<!DOCTYPE html><html lang="fr-FR"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link rel="icon" href="/assets/images/logo.png"><title>Installation HAOS avec Armbian Bookworm 12 - Haade.fr</title><meta name="description" content="2024 - Tutos installation de home assistant OS sur un cubietruck armv7 avec Armbian version Debian 12 Bookworm le tout facilement et sans erreurs"><link rel="canonical" href="https://haade.fr/fr/blog/installation-home-assistant-os-armbian-cubietruck-facile-2024"><link rel="alternate" hreflang="en" href="https://haade.fr/en/blog/easy-installation-home-assistant-os-armbian-cubietruck-2024"/><link rel="alternate" hreflang="fr" href="https://haade.fr/fr/blog/installation-home-assistant-os-armbian-cubietruck-facile-2024"/><meta property="og:locale" content="fr-FR"><meta property="og:type" content="article"><meta property="og:title" content="Installation HAOS avec Armbian Bookworm 12"><meta property="og:description" content="2024 - Tutos installation de home assistant OS sur un cubietruck armv7 avec Armbian version Debian 12 Bookworm le tout facilement et sans erreurs"><meta property="og:url" content="https://haade.fr/fr/blog/installation-home-assistant-os-armbian-cubietruck-facile-2024"><meta property="og:site_name" content="Haade.fr"><meta property="og:image" content="https://haade.fr/installation-haos-armbian-cubietruck-2024.png"><meta property="article:author" content=""><meta property="article:published_time" content="2023-12-26T10:54:00+01:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "BlogPosting", "url": "https://haade.fr/fr/blog/installation-home-assistant-os-armbian-cubietruck-facile-2024", "name": "Installation HAOS avec Armbian Bookworm 12", "headline": "Installation HAOS avec Armbian Bookworm 12", "keywords": "Haade-lab", "description": "2024 - Tutos installation de home assistant OS sur un cubietruck armv7 avec Armbian version Debian 12 Bookworm le tout facilement et sans erreurs", "articleBody": "Nous sommes bient√¥t en 2024 et il est toujours aussi difficile d‚Äôinstaller Home Assistant OS sur des cartes non prises en charges. Pour le bien des test produits j‚Äôai comme besoin d‚Äôinstaller HAOS sur une carte d√©di√©e. √áa tombe bien il me reste dans les cartons une vieille carte Cubietruck donc je vais pouvoir faire des √©conomies et ne pas investir dans un Raspberry pi.\n\nCe tuto te permettra d‚Äôinstaller facilement Home Assistant OS en utilisant ARMBIAN et l‚Äôune des cartes prises en charges par ce syst√®me, le tout sans avoir un message d‚Äôerreur dans Home Assistant et ainsi utiliser 100% du potentiel de cet assistant domestique.\n\nPr√©requis\n\n Une carte prise en charge par Armbian\n Une Sdcard de qualit√©\n savoir utiliser un terminal\n conna√Ætre un minimum la connection en SSH\n\n\n \n \n \n \n Info\n ce tuto est valable pour toutes les cartes fonctionnant avec Armbian il suffira d'adapter le t√©l√©chargement des images en fonction de l'architecture.\n \n Site officiel Armbian\n \n\n\n\n Suis scrupuleusement les √©tapes et tout devrait bien se passer üëå\n\n\n1√®re √©tape installer Armbian\n\nJ‚Äôai de la chance la communaut√© Armbian d√©veloppe toujours une image pour la vieille carte Cubietruck, en l‚Äôoccurance Debian 12 ‚ÄúBookworm‚Äù.\n\n\n \n \n \n \n Sdcard Sandisk\n Par Sandisk\n SanDisk Ultra A1 carte m√©moire Microsd 256 go 128 go 64 go 32 go 16 go microSDHC/SDXC UHS-I U3 V30 TF carte micro sd carte m√©moire\n \n \n \n Achetez sur Aliexpress\n \n \n \n \n \n \n \n \n\n\nRien de plus simple va sur la page d√©di√©e, t√©l√©charge l‚Äôimage et copie l√† sur une microsd √† l‚Äôaide de Rufus ou Balena Etcher.\n\nSi toi aussi tu poss√®des une carte cubietruck et par curiosit√© du mat√©riel tu trouveras des infos sur celle-ci sur le site Sunxi\n\nUne fois l‚Äôimage copi√©e, ins√®re l√† et lance la machine, patiente une dizaine de minutes avant de te connecter sur le syst√®me en SSH ou par interface graphique si tu pr√©f√®res. Perso le tuto est r√©dig√© en utilisant un terminal et par ssh.\n\nSi tu ne connais pas Armbian d√©couvre la vid√©o officielle de pr√©sentation:\n\n\n\n \n \n\n\nConnection SSH et premier lancement\n\nIl te faudra trouver l‚Äôadresse IP de ton installation. Lance un petit\n\nssh -p 22 ton-ip -l root\n\nEnsuite le mot de passe par d√©faut de l‚Äôutilisateur root est 1234\n\nPour plus d‚Äôinfos sur la suite du param√©trage tu peux suivre la documentation officielle\n\nArmbian va te demander de:\n\n param√©trer un nouveau mot de passe pour l‚Äôutilisateur root\n de choisir d‚Äôinstaller un syst√®me de commande shell zsh ou bash √† ta convenance\n de cr√©er un utilisateur (facultatif)\n de cr√©er un mot de passe pour cet utilisateur\n de param√©trer un syst√®me de langue utilisateur (facultatif)\n\n\nPr√©paration pour HAOS\n\nUne fois relanc√©e, reconnecte toi en ssh et rend toi dans la config Armbian\n\narmbian-config\n\nGuide utilisateur armbian-config\n\n\n\n \n \n\n\nSi tu as la possibilit√©e d‚Äôinstaller le syst√®me sur une m√©moire interne de type emmc fait le, ce n‚Äôest pas mon cas, car le cubietruck utilise une m√©moire NAND et je devrais mettre un tr√®s tr√®s vieux kernel pour que cel√† fonctionne.\n\nles √©tapes Armbian-config\n\n\n Mise √† jour du firmware ‚Äú√©quivalent update et upgrade‚Äù (syst√®me &gt; firmware)\n Red√©marrer\n Choix de l‚Äôip static ou dynamique (network &gt; ip)\n Installation du bluetooth (network &gt; BT install)\n param√©trage de la connection wifi si n√©cessaire (network &gt; wifi)\n\n\nPr√©paration pour HAos\n\n1 - cgroupv1\n\nsors de Armbian afin de pouvoir param√©trer en cgroupv1. Par d√©faut Armbian fonctionne en cgrouv2 mais il se trouve que home assistant os tourne en cgroupv1 alors rien de plus simple rends toi dans le fichier armbianEnv.txt\n\nnano /boot/armbianEnv.txt\n\net colle ce code en bas du script, n‚Äôoublie pas d‚Äôenregistrer Ctrl+X et Y\n\nextraargs=systemd.unified_cgroup_hierarchy=0\n\nCe qui te donnera en exemple:\n\nverbosity=1\nbootlogo=false\nconsole=both\ndisp_mode=1920x1080p60\noverlay_prefix=sun7i-a20\nrootdev=UUID=a0e57adf-e76d-46bf-80a3-2752008cb59f\nrootfstype=ext4\nusbstoragequirks=0x2537:0x1066:u,0x2537:0x1068:u\nextraargs=systemd.unified_cgroup_hierarchy=0\n\n2 - Pretty_Name\n\nModifie le nom de la distribution afin qu‚Äôelle soit reconnue par HAOS\n\nnano /etc/os-release\n\nchange PRETTY_NAME=‚ÄùArmbian 23.02.2 Jammy‚Äù par PRETTY_NAME=‚ÄùDebian GNU/Linux 12 (bookworm)‚Äù\n\nn‚Äôoublie pas d‚Äôenregistrer Ctrl+X et Y\n\nCe qui te donnera en exemple:\n\nPRETTY_NAME=&quot;Debian GNU/Linux 12 (bookworm)&quot;\nNAME=&quot;Debian GNU/Linux&quot;\nVERSION_ID=&quot;12&quot;\nVERSION=&quot;12 (bookworm)&quot;\nVERSION_CODENAME=bookworm\nID=debian\nHOME_URL=&quot;https://www.armbian.com&quot;\nSUPPORT_URL=&quot;https://forum.armbian.com&quot;\nBUG_REPORT_URL=&quot;https://www.armbian.com/bugs&quot;\nARMBIAN_PRETTY_NAME=&quot;Armbian 23.11.1 bookworm&quot;\n\ntrouver la bonne architecture\n\nSi tu ne connais pas l‚Äôarchitecture ARM de ta carte ou si tu n‚Äôes pas s√ªre √† 100%, tu pourras consulter ces deux liens ci-dessous, ce sont des wiki des architectures ARM avec tableau complet.\n\nArchitecture arm aarch32\nArchitecture arm cortex liens externe\n\nInstallation Home Assistant OS\n\nHome Assistant a mis en place un tuto d‚Äôinstallation que tu peux suivre √† la lettre il te suffiras de choisir les bonnes distributions √† installer dans mon cas le cubietruck est construit autour d‚Äôune armv7 donc j‚Äôai choisi:\n\n OS-Agent en armv7\n l‚Äôinstallation du supervised-installer en qemuarm\n\n\ninstallation de supervised-installer\n\nPetit rappel: armbian est d√©j√† en mode root par d√©faut\n\n1 - installe les d√©pendances\n\napt install \\\napparmor \\\ncifs-utils \\\ncurl \\\ndbus \\\njq \\\nlibglib2.0-bin \\\nlsb-release \\\nnetwork-manager \\\nnfs-common \\\nsystemd-journal-remote \\\nsystemd-resolved \\\nudisks2 \\\nwget -y\n\n2 - Red√©marre le syst√®me\n\nreboot\n\n3 - Installe Docker\n\ncurl -fsSL get.docker.com | sh\n\nTu auras un message qui te diras que tu utilise docker en non-root user qui fera remonter un message d‚Äôerreur dans Home Assistant lors du premier lancement. Mais pas d‚Äôinqui√©tude il n‚Äôy aura qu‚Äô√† red√©marrer Home Assistant et il rectifiera le tir automatiquement.\n\nTo run Docker as a non-privileged user, consider setting up the\nDocker daemon in rootless mode for your user:\n...\nWARNING: Access to the remote API on a privileged Docker daemon is equivalent\n to root access on the host. Refer to the &#39;Docker daemon attack surface&#39;\n documentation for details: https://docs.docker.com/go/attack-surface/\n\nSi l‚Äôinstallation de docker sur Armbian t‚Äôintrigue n‚Äôh√©site pas √† consulter les infos sur la doc officielle.\n\n4 - Installation OS-Agent\n\n \n \n \n \n Attention\n T√©l√©charge la derni√®re release qui te concerne moi c'est l'armv7\n \n Release OS-Agent\n \n\n\npr√©paration du fichier temporaire de t√©l√©chargement:\n\nmkdir /tmp/download/\nchown -Rv _apt:root /tmp/download/\nchmod -Rv 700 /tmp/download/\ncd /tmp/download/\n\nT√©l√©charge la derni√®re release:\n\nwget https://github.com/home-assistant/os-agent/releases/download/1.6.0/os-agent_1.6.0_linux_armv7.deb\n\nInstalle l√†:\n\ndpkg -i os-agent_1.6.0_linux_armv7.deb\n\nV√©rifie l‚Äôinstallation:\n\ngdbus introspect --system --dest io.hass.os --object-path /io/hass/os\n\nTu devrais y voir un tas de lignes comme ci-dessous:\n\nnode /io/hass/os {\n interface org.freedesktop.DBus.Introspectable {\n methods:\n Introspect(out s out);\n signals:\n...\n signals:\n properties:\n @org.freedesktop.DBus.Property.EmitsChangedSignal(&quot;invalidates&quot;)\n readonly s Version = &#39;1.6.0&#39;;\n @org.freedesktop.DBus.Property.EmitsChangedSignal(&quot;true&quot;)\n readwrite b Diagnostics = false;\n };\n};\n\n5 - Installe le supervised installer\n\nDerni√®re √©tape de l‚Äôinstallation, le script supervised-installer va t‚Äôinstaller tous les containers n√©cessaire au bon fonctionnement de Home Assistant\n\nwget -O homeassistant-supervised.deb https://github.com/home-assistant/supervised-installer/releases/latest/download/homeassistant-supervised.deb\napt install ./homeassistant-supervised.deb\n\nenfin lorsque le script te le demandera, choisi l‚Äôarchitecture correspondant √† tes besoins dans mon cas qemuarm.\n\n[info] Install supervisor startup scripts\n[info] Install AppArmor scripts\n[info] Start Home Assistant Supervised\n[info] Installing the &#39;ha&#39; cli\n[warn] Could not find /etc/default/grub or /boot/firmware/cmdline.txt failed to \nswitch to cgroup v1\n[info] Within a few minutes you will be able to reach Home Assistant at:\n[info] http://homeassistant.local:8123 or using the IP address of your\n[info] machine: http://ton-ip:8123\n\nEnfin de la patience\n\nSuivant la puissance de ta carte Home Assistant peut mettre plus ou moins de temps pour s‚Äôinstaller alors sois patient dans mon cas √ßa a pris environ 20 minutes, tu peux suivre le process en te rendant sur l‚Äôadresse indiqu√© en fin de script du superviseur\n\n√† ne pas oublier\n\nUne fois que tu auras param√©trer Home Assistant, n‚Äôoublie pas de v√©rifier les mises √† jours et comme indiqu√© plus haut tu devrais avoir une erreur docker non-root user, pas de panique il suffit de red√©marrer homeassistant. Perso j‚Äôai red√©marr√© tout le syst√®me.\n\n\n\nRed√©marre tout le syst√®me √† partir de Home Assistant\n\n compte utilisateur &gt; activer mode avanc√©\n param√®tre &gt; syst√®me &gt; red√©marrer home assistant &gt; option avanc√© &gt; Red√©marrer le syst√®me\n\n\n\n \n \n \n \n Sdcard Sandisk\n Par Sandisk\n SanDisk Ultra A1 carte m√©moire Microsd 256 go 128 go 64 go 32 go 16 go microSDHC/SDXC UHS-I U3 V30 TF carte micro sd carte m√©moire\n \n \n \n Achetez sur Aliexpress\n \n \n \n \n \n \n \n \n\n\nConclusion\n\nVoil√† une fa√ßon efficace d‚Äôinstaller Home Assistant OS sur Armbian en utilisant une carte compatible sans avoir besoin de se prendre la t√™te. Si comme moi tu as besoin d‚Äôutiliser ce magnifique syst√®me qu‚Äôest Home Assistant sur une carte √† recycler pour effectuer tous types de tests alors ce tuto est fait pour toi.\n\n", "datePublished": "2023-12-26 10:54:00 +0100", "dateModified": "2023-12-26 10:54:00 +0100", "inLanguage": "fr-FR", "author": { "@type": "Person", "name": null, "alternateName": null, "description": null, "url": null,"image": null,"email": null }, "publisher": { "@type": "Organization", "name": "Haade.fr", "url": "https://haade.fr", "logo": { "@type": "ImageObject", "width": 250, "height": 63, "url": "https://haade.fr/assets/images/logo.png" } }, "mainEntityOfPage": { "@type": "WebPage", "@id": "https://haade.fr/fr/blog/installation-home-assistant-os-armbian-cubietruck-facile-2024" }, "image": { "@type": "ImageObject", "width": 250, "height": 94, "url": "https://haade.fr/installation-haos-armbian-cubietruck-2024.png" } } </script><link href="/assets/css/theme.css?v=1759201235343294053" media="screen, projection, print" rel="stylesheet"> <script data-goatcounter="https://haade.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script><link rel="preload" href="/assets/fonts/montserrat/Montserrat-VariableFont_wght.woff2" as="font" crossorigin><link rel="preload" href="/assets/fonts/icomoon/icomoon.woff2?4fpajq" as="font" crossorigin><link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicon.ico" ><link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png" ><header><div class="firstnavbar"><div class="links"> <a href="/">Accueil</a> <a href="/fr/rgpd-politique-de-confidentialite/">RGPD</a> <a href="/fr/contact/">Contact</a><div class="sl-nav"> langue:<ul><li><b>Francais</b> <i class="ico angle-down-solid triangle-arrow trrow" aria-hidden="true"></i><div class="triangle"></div><ul class="show-flags"><li class="current"><a href="/fr/blog/installation-home-assistant-os-armbian-cubietruck-facile-2024"><i class="sl-flag fix flag-fr"><div id="Francais"></div></i><span class="active">Francais</span></a><li><a href="/en/blog/easy-installation-home-assistant-os-armbian-cubietruck-2024"><i class="sl-flag fix flag-england"><div id="English"></div></i><span class="active">English</span></a></ul></ul></div></div><div class="social-firstnav"> <a href="https://github.com/haade-administrator/haade.fr/discussions" target="_blank" alt="github discussion link" aria-label="Continue la discussion sur le forum github"><i class="icob github" width="1em" height="1em" aria-hidden="true" title="github discussion"></i></a> <a href="https://www.youtube.com/channel/UCcXJ1ZsjEvQxuWJy7gH-A6w/?sub_confirmation=1" onclick="window.open(this.href, 'width=550,height=435');return false;" aria-label="Abonne toi √† notre chaine youtube"><i class="icob youtube" width="1em" height="1em" target="_blank" alt="youtube" aria-hidden="true" title="youtube"></i></a> <a href="https://discord.gg/FaK6MuZ2" onclick="window.open(this.href, 'width=550,height=435');return false;" aria-label="Invitation sur notre r√©seau Discord"><i class="icob discord" width="1em" height="1em" target="_blank" alt="discord" aria-hidden="true" title="discord"></i></a> <a href="/fr/feed.xml" target="_blank" alt="feed rss" aria-label="partage le flux rss avec tes amis"><i class="icob rss" width="1em" height="1em" aria-hidden="true" title="feed rss haade"></i></a></div></div><div class="secondheader"> <a class="navbar-brand" href="/"><picture> <source sizes="(max-width: 524px) 150px, 250px" srcset="https://haade.fr/assets/images/generated/logo-150-379587352.webp 150w, https://haade.fr/assets/images/generated/logo-250-379587352.webp 250w" type="image/webp"> <source sizes="(max-width: 524px) 150px, 250px" srcset="https://haade.fr/assets/images/generated/logo-150-64f85a78e.png 150w, https://haade.fr/assets/images/generated/logo-250-64f85a78e.png 250w" type="image/png"> <img id="logoIImage" src="https://haade.fr/assets/images/generated/logo-250-64f85a78e.png" alt="Logo officiel du site domotique Haade" width="250" height="94"> </picture> </a><p class="sitetag"> Home Assistance Alsace domotique & √©lectronique.</p></div><nav id="nav"><div class="navbar"> <i class='icos bars-solid'></i><div class="nav-links"><div class="sidebar-logo"> <span class="logo-name">H2Ade</span> <i class='icos times-solid'></i></div><ul class="links"><li><a href="/">Accueil<span class="badge badge-light tags">162</span></a><li> <a href="https://haade.fr/fr/categorie/domotique">Domotique</a> <i class="icos angle-down-solid htmlcss-arrow-automation arrow"></i><ul class="htmlCss-sub-menu-automation sub-menu"><li><a href="/fr/categorie/securite">S√©curit√©</a><li class="more"> <span><a href="/fr/categorie/haade-lab">Tutos</a> <i class='icos angle-right-solid arrow more-arrow-automation'></i> </span><ul class="more-sub-menu-automation sub-menu"><li><a href="/fr/categorie/mini-tutos">Mini-tutos</a><li><a href="/fr/categorie/videos">Vid√©os</a><li><a href="/fr/categorie/home-assistant">Home-Assistant</a><li><a href="/fr/categorie/jeedom">Jeedom</a></ul></ul><li><a href="/fr/categorie/news">News</a><li><a href="/fr/categorie/tests">Tests</a><li><a href="/fr/auteurs">Contributeurs<span class="badge badge-primary">News</span></a><li><a target="_blank" href="https://github.com/haade-administrator/haade.fr/discussions">Forum</a><li><a href="/fr/categorie-produit/boutique">Boutique</a> <i class="icos angle-down-solid htmlcss-arrow-shop arrow"></i><ul class="htmlCss-sub-menu-shop sub-menu"><li class="more"> <span><a href="#">Marque</a> <i class='icos angle-right-solid arrow more-arrow-brand'></i> </span><ul class="more-sub-menu-brand sub-menu"><li><a href="/fr/categorie-produit/jeedom">Jeedom</a><li><a href="/fr/categorie-produit/moes">Moes</a><li><a href="/fr/categorie-produit/neo-coolcam">Neo-Coolcam</a><li><a href="/fr/categorie-produit/nodon">Nodon</a><li><a href="/fr/categorie-produit/raspberry-pi">Raspberry Pi</a><li><a href="/fr/categorie-produit/shelly">Shelly</a><li><a href="/fr/categorie-produit/sonoff">Sonoff</a><li><a href="/fr/categorie-produit/tedee">Tedee</a><li><a href="/fr/categorie-produit/xiaomi">Xiaomi</a><li><a href="/fr/categorie-produit/zemismart">Zemismart</a><li><a href="/fr/categorie-produit/zooz">Zooz</a></ul><li class="more"> <span><a href="#">Protocole</a> <i class='ico angle-right-solid arrow more-arrow-protocol'></i> </span><ul class="more-sub-menu-protocol sub-menu"><li><a href="/fr/categorie-produit/bluetooth">Bluetooth</a><li><a href="/fr/categorie-produit/esp">Esp 32/8266</a><li><a href="/fr/categorie-produit/matter">Matter</a><li><a href="/fr/categorie-produit/wifi">Wifi</a><li><a href="/fr/categorie-produit/zigbee">Zigbee</a><li><a href="/fr/categorie-produit/zwave">Z-wave</a></ul></ul><li><div class="sl-nav"> langue:<ul><li><b>Francais</b> <i class="ico angle-down-solid triangle-arrow trrow" aria-hidden="true"></i><div class="triangle"></div><ul class="show-flags"><li class="current"><a href="/fr/blog/installation-home-assistant-os-armbian-cubietruck-facile-2024"><i class="sl-flag fix flag-fr"><div id="Francais"></div></i><span class="active">Francais</span></a><li><a href="/en/blog/easy-installation-home-assistant-os-armbian-cubietruck-2024"><i class="sl-flag fix flag-england"><div id="English"></div></i><span class="active">English</span></a></ul></ul></div></ul></div><script src="/assets/js/lunr.min.js?v=a944ea77ca394dff9a667d5aea56f0e9" type="text/javascript"></script><div class="search-box"> <i class='icos search-solid'></i><div class="input-box"> <form onSubmit="return lunr_search(document.getElementById('lunrsearch').value);" class="search-form" role="search"> <input autocomplete="on" id="lunrsearch" class="search-input" name="q" maxlength="200" placeholder="Recherche..." type="search" value=""> <input class="search-action" type="submit" value="Ok"> </form></div><div id="lunrsearchresults"><ul></ul></div></div></div></nav></header><div class="site-content"><div class="container"><div class="main-content"> <script> var addViews = ""; var addViewsValue = parseInt(addViews); var r = new XMLHttpRequest(); r.addEventListener('load', function() { var visits = parseInt(JSON.parse(this.responseText).count.replace(/\s/g, '')); var totalVisits = visits; if (!isNaN(addViewsValue)) { totalVisits += addViewsValue; } document.getElementById('visits').innerText = totalVisits; }); r.open('GET', 'https://haade.goatcounter.com/counter/' + encodeURIComponent(location.pathname) + '.json'); r.send(); </script><div class="entry-header"><nav class="ariane"><ol class="arianefil" itemscope itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemprop="item" href="https://haade.fr/"><span itemprop="name">Accueil</span></a><meta itemprop="position" content="1"><li><span class="prompt">&nbsp; > &nbsp;</span>Installation HAOS avec Armbian Bookworm 12</ol></nav><h1 class="posttitle">Installation HAOS avec Armbian Bookworm 12</h1><div class="d-flex align-items-start mt-4"><div class="authorpost"> <a href="/fr/auteur-nico"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-60-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-60-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="60" height="60" src="https://haade.fr/assets/images/generated/nico-60-c8508425c.png" alt="Nico"> </picture> </a> √âcris par <a href="/fr/auteur-nico"><b>Nico</b></a></div><div class="readingpost">&nbsp;<i class="icos calendar-check" width="1em" height="1em"></i> <span class="post-date"><time class="post-date" datetime="26-12-2023">26 d√©cembre 2023 &nbsp; </time></span> <span><span class="reading-time" title="Temps de Lecture estim√©"> <i class="icos history" width="1em" height="1em"></i> <strong> 8 min</strong> de lecture </span> </span><p><i class="icos eye-solid" width="1em" height="1em"></i> Cet Article a √©t√© vu <span id="visits" style="font-weight:bold">...</span> fois</p></div></div></div><div class="entry-featured-image"><picture> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) 800px, (min-width: 1025px) 940px, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-300-609e8ea1a.webp 300w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-400-609e8ea1a.webp 400w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-500-609e8ea1a.webp 500w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-600-609e8ea1a.webp 600w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-700-609e8ea1a.webp 700w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-800-609e8ea1a.webp 800w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-900-609e8ea1a.webp 900w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-940-609e8ea1a.webp 940w" type="image/webp"> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) 800px, (min-width: 1025px) 940px, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-300-609e8ea1a.png 300w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-400-609e8ea1a.png 400w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-500-609e8ea1a.png 500w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-600-609e8ea1a.png 600w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-700-609e8ea1a.png 700w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-800-609e8ea1a.png 800w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-900-609e8ea1a.png 900w, https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-940-609e8ea1a.png 940w" type="image/png"> <img class="lazyload featured-image-post" width="940" height="529" itemprop="image" src="https://haade.fr/assets/images/generated/posts/101/installation-haos-armbian-cubietruck-2024-940-609e8ea1a.png" alt="Installation HAOS avec Armbian Bookworm 12"> </picture></div><div class="article-post"><p><em></em></p><div class="toc mt-4 mb-4 lead"><h3 class="font-weight-bold">Sommaire</h3><ul class="table_of"><li class="toc"><a href="#pr√©requis" class="toc_anchor">Pr√©requis</a><ul class="toc_sub"><li class="toc"><a href="#1√®re-√©tape-installer-armbian" class="toc_anchor">1√®re √©tape installer Armbian</a><li class="toc"><a href="#connection-ssh-et-premier-lancement" class="toc_anchor">Connection SSH et premier lancement</a><li class="toc"><a href="#pr√©paration-pour-haos" class="toc_anchor">Pr√©paration pour HAOS</a><ul class="toc_sub"><li class="toc"><a href="#les-√©tapes-armbian-config" class="toc_anchor">les √©tapes Armbian-config</a></ul><li class="toc"><a href="#pr√©paration-pour-haos-1" class="toc_anchor">Pr√©paration pour HAos</a><ul class="toc_sub"><li class="toc"><a href="#1---cgroupv1" class="toc_anchor">1 - cgroupv1</a><li class="toc"><a href="#2---pretty_name" class="toc_anchor">2 - Pretty_Name</a></ul><li class="toc"><a href="#trouver-la-bonne-architecture" class="toc_anchor">trouver la bonne architecture</a><li class="toc"><a href="#installation-home-assistant-os" class="toc_anchor">Installation Home Assistant OS</a><ul class="toc_sub"><li class="toc"><a href="#1---installe-les-d√©pendances" class="toc_anchor">1 - installe les d√©pendances</a><li class="toc"><a href="#2---red√©marre-le-syst√®me" class="toc_anchor">2 - Red√©marre le syst√®me</a><li class="toc"><a href="#3---installe-docker" class="toc_anchor">3 - Installe Docker</a><li class="toc"><a href="#4---installation-os-agent" class="toc_anchor">4 - Installation OS-Agent</a><li class="toc"><a href="#5---installe-le-supervised-installer" class="toc_anchor">5 - Installe le supervised installer</a></ul><li class="toc"><a href="#enfin-de-la-patience" class="toc_anchor">Enfin de la patience</a><li class="toc"><a href="#√†-ne-pas-oublier" class="toc_anchor">√† ne pas oublier</a><li class="toc"><a href="#conclusion" class="toc_anchor">Conclusion</a></ul></ul></div><div class="content-post"><p>Nous sommes bient√¥t en 2024 et il est toujours aussi difficile d‚Äôinstaller Home Assistant OS sur des cartes non prises en charges. Pour le bien des test produits j‚Äôai comme besoin d‚Äôinstaller HAOS sur une carte d√©di√©e. √áa tombe bien il me reste dans les cartons une vieille carte Cubietruck donc je vais pouvoir faire des √©conomies et ne pas investir dans un Raspberry pi.</p><p>Ce tuto te permettra d‚Äôinstaller facilement Home Assistant OS en utilisant ARMBIAN et l‚Äôune des cartes prises en charges par ce syst√®me, le tout sans avoir un message d‚Äôerreur dans Home Assistant et ainsi utiliser 100% du potentiel de cet assistant domestique.</p><h1 id="pr√©requis">Pr√©requis</h1><ul><li>Une carte prise en charge par Armbian<li>Une Sdcard de qualit√©<li>savoir utiliser un terminal<li>conna√Ætre un minimum la connection en SSH</ul><div class="alert alert-info" role="alert"><div class="alert-icon"> <i class="icos info-circle-solid"></i></div><div class="alert-text"><h4 class="no_toc">Info</h4><p>ce tuto est valable pour toutes les cartes fonctionnant avec Armbian il suffira d'adapter le t√©l√©chargement des images en fonction de l'architecture.</p><hr /> <a href="https://www.armbian.com/" target="_blank" class="alert-link">Site officiel Armbian</a></div></div><blockquote><p>Suis scrupuleusement les √©tapes et tout devrait bien se passer üëå</p></blockquote><h2 id="1√®re-√©tape-installer-armbian">1√®re √©tape installer Armbian</h2><p>J‚Äôai de la chance la communaut√© Armbian d√©veloppe toujours une image pour la vieille carte Cubietruck, en l‚Äôoccurance Debian 12 ‚ÄúBookworm‚Äù.</p><div class="embedproduct"><div class="embedproduct-picture"><img class="pictinpost lazyload" width="250" height="250" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII=" data-src="https://ae01.alicdn.com/kf/H1f8d2bf230484fbf90ab3443ba2c4a18C/SanDisk-Ultra-A1-carte-m-moire-Microsd-256-go-128-go-64-go-32-go-16.jpg_640x640.jpg_.webp" alt="SanDisk Ultra A1 carte m√©moire Microsd 256 go 128 go 64 go 32 go 16 go microSDHC/SDXC UHS-I U3 V30 TF carte micro sd carte m√©moire" /></div><div class="text"><div class="embedproduct-info"><h2 class="no_toc">Sdcard Sandisk</h2><h3 class="no_toc">Par Sandisk</h3><p>SanDisk Ultra A1 carte m√©moire Microsd 256 go 128 go 64 go 32 go 16 go microSDHC/SDXC UHS-I U3 V30 TF carte micro sd carte m√©moire</p></div><div class="embedproduct-price"><div class="embedaffiliate"> <span class="aliexbutton" role="button"><a href="https://s.click.aliexpress.com/e/_DFKKLEt" target="_blank" rel="nofollow noopener"><img src="/assets/images/aliexpress-payment.png" width="20" height="20" class="lazyload" alt="aliexpress logo payment" /> Achetez sur Aliexpress</a></span></div></div></div></div><p>Rien de plus simple <a href="https://www.armbian.com/cubietruck/" target="_blank">va sur la page d√©di√©e</a>, t√©l√©charge l‚Äôimage et copie l√† sur une microsd √† l‚Äôaide de <a href="https://rufus.ie/" target="_blank">Rufus</a> ou <a href="https://etcher.balena.io/" target="_blank">Balena Etcher</a>.</p><p>Si toi aussi tu poss√®des une carte cubietruck et par curiosit√© du mat√©riel tu trouveras des infos sur celle-ci sur le site <a href="https://linux-sunxi.org/Cubietech_Cubietruck" target="_blank">Sunxi</a></p><p>Une fois l‚Äôimage copi√©e, ins√®re l√† et lance la machine, patiente une dizaine de minutes avant de te connecter sur le syst√®me en SSH ou par interface graphique si tu pr√©f√®res. Perso le tuto est r√©dig√© en utilisant un terminal et par ssh.</p><p>Si tu ne connais pas Armbian d√©couvre la vid√©o officielle de pr√©sentation:</p><div class="embed-container"> <iframe style="border-radius:15px" class="lazyload" data-src="https://www.youtube.com/embed/hFrdyLc4g50?si=IuvHm3JgeHnWwiUM" width="700" height="480" title="Installation HAOS avec Armbian Bookworm 12" frameborder="0" allowfullscreen="true"> </iframe></div><h2 id="connection-ssh-et-premier-lancement">Connection SSH et premier lancement</h2><p>Il te faudra trouver l‚Äôadresse IP de ton installation. Lance un petit</p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">ssh -p 22 ton-ip -l root</code></pre></figure><p>Ensuite le mot de passe par d√©faut de l‚Äôutilisateur <strong>root</strong> est <strong class="red">1234</strong></p><p>Pour plus d‚Äôinfos sur la suite du param√©trage <a href="https://docs.armbian.com/User-Guide_Getting-Started/#how-to-login" target="_blank">tu peux suivre la documentation officielle</a></p><p><strong>Armbian va te demander de:</strong></p><ul><li>param√©trer un nouveau mot de passe pour l‚Äôutilisateur <strong>root</strong><li>de choisir d‚Äôinstaller un syst√®me de commande shell zsh ou bash <strong>√† ta convenance</strong><li>de cr√©er un utilisateur <strong>(facultatif)</strong><li>de cr√©er un mot de passe pour cet utilisateur<li>de param√©trer un syst√®me de langue utilisateur <strong>(facultatif)</strong></ul><h2 id="pr√©paration-pour-haos">Pr√©paration pour HAOS</h2><p>Une fois relanc√©e, <strong>reconnecte toi en ssh</strong> et rend toi dans la <strong>config Armbian</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">armbian-config</code></pre></figure><p><a href="https://docs.armbian.com/User-Guide_Armbian-Config/" target="_blank">Guide utilisateur armbian-config</a></p><div class="embed-container"> <iframe style="border-radius:15px" class="lazyload" data-src="https://www.youtube.com/embed/i9KyATAmfwQ?si=v0E-ELgtGnr9IuUZ" width="700" height="480" title="Installation HAOS avec Armbian Bookworm 12" frameborder="0" allowfullscreen="true"> </iframe></div><p>Si tu as la <a href="https://docs.armbian.com/User-Guide_Getting-Started/#how-to-install-to-emmc-sata-nvme-usb" target="_blank">possibilit√©e d‚Äôinstaller le syst√®me sur une m√©moire interne de type emmc</a> fait le, ce n‚Äôest pas mon cas, car le cubietruck utilise une <strong>m√©moire NAND</strong> et je devrais mettre un <strong>tr√®s tr√®s vieux kernel</strong> pour que cel√† fonctionne.</p><h3 id="les-√©tapes-armbian-config">les √©tapes Armbian-config</h3><ol><li>Mise √† jour du firmware <strong>‚Äú√©quivalent update et upgrade‚Äù</strong> (syst√®me &gt; firmware)<li><strong>Red√©marrer</strong><li>Choix de l‚Äôip static ou dynamique (network &gt; ip)<li>Installation du bluetooth (network &gt; BT install)<li>param√©trage de la connection wifi si n√©cessaire (network &gt; wifi)</ol><h2 id="pr√©paration-pour-haos-1">Pr√©paration pour HAos</h2><h3 id="1---cgroupv1">1 - cgroupv1</h3><p>sors de Armbian afin de pouvoir param√©trer en cgroupv1. Par d√©faut Armbian fonctionne en cgrouv2 mais il se trouve que home assistant os tourne en cgroupv1 alors rien de plus simple rends toi dans le fichier <strong>armbianEnv.txt</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">nano /boot/armbianEnv.txt</code></pre></figure><p>et colle ce code en bas du script, n‚Äôoublie pas d‚Äôenregistrer <code>Ctrl+X</code> et Y</p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">extraargs=systemd.unified_cgroup_hierarchy=0</code></pre></figure><p><strong>Ce qui te donnera en exemple:</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">verbosity=1
bootlogo=false
console=both
disp_mode=1920x1080p60
overlay_prefix=sun7i-a20
rootdev=UUID=a0e57adf-e76d-46bf-80a3-2752008cb59f
rootfstype=ext4
usbstoragequirks=0x2537:0x1066:u,0x2537:0x1068:u
extraargs=systemd.unified_cgroup_hierarchy=0</code></pre></figure><h3 id="2---pretty_name">2 - Pretty_Name</h3><p>Modifie le nom de la distribution afin qu‚Äôelle soit reconnue par HAOS</p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">nano /etc/os-release</code></pre></figure><p><strong>change</strong> PRETTY_NAME=‚ÄùArmbian 23.02.2 Jammy‚Äù par <strong class="blue">PRETTY_NAME=‚ÄùDebian GNU/Linux 12 (bookworm)‚Äù</strong></p><p>n‚Äôoublie pas d‚Äôenregistrer <code>Ctrl+X</code> et Y</p><p><strong>Ce qui te donnera en exemple:</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">PRETTY_NAME=&quot;Debian GNU/Linux 12 (bookworm)&quot;
NAME=&quot;Debian GNU/Linux&quot;
VERSION_ID=&quot;12&quot;
VERSION=&quot;12 (bookworm)&quot;
VERSION_CODENAME=bookworm
ID=debian
HOME_URL=&quot;https://www.armbian.com&quot;
SUPPORT_URL=&quot;https://forum.armbian.com&quot;
BUG_REPORT_URL=&quot;https://www.armbian.com/bugs&quot;
ARMBIAN_PRETTY_NAME=&quot;Armbian 23.11.1 bookworm&quot;</code></pre></figure><h2 id="trouver-la-bonne-architecture">trouver la bonne architecture</h2><p>Si tu ne connais pas l‚Äôarchitecture ARM de ta carte ou si tu n‚Äôes pas s√ªre √† 100%, tu pourras consulter ces deux liens ci-dessous, ce sont des wiki des architectures ARM avec tableau complet.</p><p><a href="https://en.wikipedia.org/wiki/ARM_architecture_family#AArch32" target="_blank">Architecture arm aarch32</a> <a href="https://en.wikipedia.org/wiki/ARM_Cortex-A7#External_links" target="_blank">Architecture arm cortex liens externe</a></p><h2 id="installation-home-assistant-os">Installation Home Assistant OS</h2><p>Home Assistant a mis en place un tuto d‚Äôinstallation que tu peux suivre √† la lettre il te suffiras de choisir les bonnes distributions √† installer dans mon cas le cubietruck est construit autour d‚Äôune armv7 donc j‚Äôai choisi:</p><ul><li>OS-Agent en <strong>armv7</strong><li>l‚Äôinstallation du supervised-installer en <strong>qemuarm</strong></ul><p><a href="https://github.com/home-assistant/supervised-installer" target="_blank">installation de supervised-installer</a></p><p><strong>Petit rappel:</strong> armbian est d√©j√† en mode <strong>root</strong> par d√©faut</p><h3 id="1---installe-les-d√©pendances">1 - installe les d√©pendances</h3><figure class="highlight"><pre><code class="language-sh" data-lang="sh">apt install \
apparmor \
cifs-utils \
curl \
dbus \
jq \
libglib2.0-bin \
lsb-release \
network-manager \
nfs-common \
systemd-journal-remote \
systemd-resolved \
udisks2 \
wget -y</code></pre></figure><h3 id="2---red√©marre-le-syst√®me">2 - Red√©marre le syst√®me</h3><figure class="highlight"><pre><code class="language-sh" data-lang="sh">reboot</code></pre></figure><h3 id="3---installe-docker">3 - Installe Docker</h3><figure class="highlight"><pre><code class="language-sh" data-lang="sh">curl -fsSL get.docker.com | sh</code></pre></figure><p>Tu auras un message qui te diras que tu utilise docker en non-root user qui fera remonter un message d‚Äôerreur dans Home Assistant lors du premier lancement. <strong class="red">Mais pas d‚Äôinqui√©tude il n‚Äôy aura qu‚Äô√† red√©marrer Home Assistant et il rectifiera le tir automatiquement.</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">To run Docker as a non-privileged user, consider setting up the
Docker daemon in rootless mode for your user:
...
WARNING: Access to the remote API on a privileged Docker daemon is equivalent
         to root access on the host. Refer to the &#39;Docker daemon attack surface&#39;
         documentation for details: https://docs.docker.com/go/attack-surface/</code></pre></figure><p>Si l‚Äôinstallation de docker sur Armbian t‚Äôintrigue n‚Äôh√©site pas √† consulter les infos <a href="https://docs.armbian.com/User-Guide_Advanced-Features/#how-to-run-docker" target="_blank">sur la doc officielle</a>.</p><h3 id="4---installation-os-agent">4 - Installation OS-Agent</h3><div class="alert alert-warning" role="alert"><div class="alert-icon"> <i class="icos exclamation-circle-solid"></i></div><div class="alert-text"><h4 class="no_toc">Attention</h4><p>T√©l√©charge la <b>derni√®re release</b> qui te concerne moi c'est l'<b>armv7</b></p><hr /> <a href="https://github.com/home-assistant/os-agent/releases/latest" target="_blank" class="alert-link">Release OS-Agent</a></div></div><p><strong>pr√©paration du fichier temporaire de t√©l√©chargement:</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">mkdir /tmp/download/
chown -Rv _apt:root /tmp/download/
chmod -Rv 700 /tmp/download/
cd /tmp/download/</code></pre></figure><p><strong>T√©l√©charge la derni√®re release:</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">wget https://github.com/home-assistant/os-agent/releases/download/1.6.0/os-agent_1.6.0_linux_armv7.deb</code></pre></figure><p><strong>Installe l√†:</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">dpkg -i os-agent_1.6.0_linux_armv7.deb</code></pre></figure><p><strong>V√©rifie l‚Äôinstallation:</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">gdbus introspect --system --dest io.hass.os --object-path /io/hass/os</code></pre></figure><p><strong>Tu devrais y voir un tas de lignes comme ci-dessous:</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">node /io/hass/os {
  interface org.freedesktop.DBus.Introspectable {
    methods:
      Introspect(out s out);
    signals:
...
    signals:
    properties:
      @org.freedesktop.DBus.Property.EmitsChangedSignal(&quot;invalidates&quot;)
      readonly s Version = &#39;1.6.0&#39;;
      @org.freedesktop.DBus.Property.EmitsChangedSignal(&quot;true&quot;)
      readwrite b Diagnostics = false;
  };
};</code></pre></figure><h3 id="5---installe-le-supervised-installer">5 - Installe le supervised installer</h3><p>Derni√®re √©tape de l‚Äôinstallation, le script supervised-installer va t‚Äôinstaller <strong>tous les containers n√©cessaire au bon fonctionnement de Home Assistant</strong></p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">wget -O homeassistant-supervised.deb https://github.com/home-assistant/supervised-installer/releases/latest/download/homeassistant-supervised.deb
apt install ./homeassistant-supervised.deb</code></pre></figure><p>enfin lorsque le script te le demandera, choisi l‚Äôarchitecture correspondant √† tes besoins dans mon cas <strong>qemuarm</strong>.</p><figure class="highlight"><pre><code class="language-sh" data-lang="sh">[info] Install supervisor startup scripts
[info] Install AppArmor scripts
[info] Start Home Assistant Supervised
[info] Installing the &#39;ha&#39; cli
[warn] Could not find /etc/default/grub or /boot/firmware/cmdline.txt failed to 
switch to cgroup v1
[info] Within a few minutes you will be able to reach Home Assistant at:
[info] http://homeassistant.local:8123 or using the IP address of your
[info] machine: http://ton-ip:8123</code></pre></figure><h2 id="enfin-de-la-patience">Enfin de la patience</h2><p>Suivant la puissance de ta carte Home Assistant peut mettre plus ou moins de temps pour s‚Äôinstaller alors sois patient dans mon cas √ßa a pris environ 20 minutes, <strong class="green">tu peux suivre le process en te rendant sur l‚Äôadresse indiqu√© en fin de script du superviseur</strong></p><h2 id="√†-ne-pas-oublier">√† ne pas oublier</h2><p>Une fois que tu auras param√©trer Home Assistant, n‚Äôoublie pas de v√©rifier les mises √† jours et comme indiqu√© plus haut tu devrais avoir une erreur docker <code>non-root user</code>, pas de panique <strong><em>il suffit de red√©marrer homeassistant</em></strong>. Perso j‚Äôai red√©marr√© tout le syst√®me.</p><picture><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-240-96e608b5b.webp 240w, https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-300-96e608b5b.webp 300w, https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-400-96e608b5b.webp 400w, https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-480-96e608b5b.webp 480w, https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-653-96e608b5b.webp 653w" type="image/webp" /><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-240-96e608b5b.png 240w, https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-300-96e608b5b.png 300w, https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-400-96e608b5b.png 400w, https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-480-96e608b5b.png 480w, https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-653-96e608b5b.png 653w" type="image/png" /><img class="pictinpost lazyload" width="653" height="148" src="https://haade.fr/assets/images/generated/posts/101/non-privilege-docker-240-96e608b5b.png" alt="erreur non privilege docker utilisateur" /></picture><p><strong>Red√©marre tout le syst√®me √† partir de Home Assistant</strong></p><ul><li>compte utilisateur &gt; activer mode avanc√©<li>param√®tre &gt; syst√®me &gt; red√©marrer home assistant &gt; option avanc√© &gt; Red√©marrer le syst√®me</ul><div class="embedproduct"><div class="embedproduct-picture"><img class="pictinpost lazyload" width="250" height="250" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII=" data-src="https://ae01.alicdn.com/kf/H1f8d2bf230484fbf90ab3443ba2c4a18C/SanDisk-Ultra-A1-carte-m-moire-Microsd-256-go-128-go-64-go-32-go-16.jpg_640x640.jpg_.webp" alt="SanDisk Ultra A1 carte m√©moire Microsd 256 go 128 go 64 go 32 go 16 go microSDHC/SDXC UHS-I U3 V30 TF carte micro sd carte m√©moire" /></div><div class="text"><div class="embedproduct-info"><h2 class="no_toc">Sdcard Sandisk</h2><h3 class="no_toc">Par Sandisk</h3><p>SanDisk Ultra A1 carte m√©moire Microsd 256 go 128 go 64 go 32 go 16 go microSDHC/SDXC UHS-I U3 V30 TF carte micro sd carte m√©moire</p></div><div class="embedproduct-price"><div class="embedaffiliate"> <span class="aliexbutton" role="button"><a href="https://s.click.aliexpress.com/e/_DFKKLEt" target="_blank" rel="nofollow noopener"><img src="/assets/images/aliexpress-payment.png" width="20" height="20" class="lazyload" alt="aliexpress logo payment" /> Achetez sur Aliexpress</a></span></div></div></div></div><h2 id="conclusion">Conclusion</h2><p>Voil√† une fa√ßon <strong>efficace d‚Äôinstaller Home Assistant OS sur Armbian</strong> en utilisant une carte compatible sans avoir besoin de se prendre la t√™te. Si comme moi tu as besoin d‚Äôutiliser ce magnifique syst√®me qu‚Äôest Home Assistant sur une carte √† recycler pour effectuer tous types de tests alors ce tuto est fait pour toi.</p></div></div><div class="sourcelink"> <span class="titlesource">Articles source</span><ol><li class="contentlink"> <a rel="canonical" href="https://github.com/armbian" target="_blank">github.com</a><i class="icos external-link-alt-solid"></i><li class="contentlink"> <a rel="canonical" href="https://github.com/home-assistant/supervised-installer" target="_blank">github.com</a><i class="icos external-link-alt-solid"></i></ol></div><div class="authorbox mb-5 mt-5 pt-4 pb-4" itemscope itemtype="https://schema.org/Person"><div class="row"><div class="wrapavname col-md-3 text-center"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-110-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-110-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="110" height="110" src="https://haade.fr/assets/images/generated/nico-110-c8508425c.png" alt="Nico"> </picture><p class="mt-4 mb-0 small text-center"> <a target="_blank" class="d-inline-block mx-1 text-dark" itemprop="url" href="/fr/auteur-nico/"><i class="ico link-solid"></i></a> <a target="_blank" class="d-inline-block mx-1 text-dark" itemprop="sameAs" href="https://www.youtube.com/channel/UCcXJ1ZsjEvQxuWJy7gH-A6w"><i class="icob youtube"></i></a> <a target="_blank" class="d-inline-block mx-1 text-dark" itemprop="sameAs" href="https://github.com/haade-administrator"><i class="icob github"></i></a> <a target="_blank" class="d-inline-block mx-1 text-dark" itemprop="sameAs" href="https://discordapp.com/widget?id=637642871738073091&theme=dark&username=Nicoxygen#5644"><i class="icob discord"></i></a> <a class="d-inline-block mx-1 text-dark" itemprop="email" href="mailto:nico@haade.fr"><i class="ico envelope-solid"></i></a></p></div><div class="col-md-9"><h4 itemprop="name">Nico</h4><p class="mt-3 mb-0" itemprop="description">Membre fondateur du site Haade, voil√† plus de 10 ans que je suis passionn√© de domotique, informatique et √©lectronique. J'essaie √† travers ce blog d'aider d'autres internautes √† s'exp√©rimenter en domotique, √† trouver des tutos ludiques, bref √† √©voluer.</p></div></div></div><div class="comments mt-5"> <button class="btn btn-outline-dark py-2 px-5 d-block w-100 show-comments"><i class="ico comments-solid text-muted"></i> &nbsp; Afficher les Commentaires</button><div id="comments"><h4 class="mb-4">commentaires</h4><script src="https://giscus.app/client.js" data-repo=haade-administrator/haade.fr data-repo-id=R_kgDOHxeeuA data-category=Comments data-category-id=DIC_kwDOHxeeuM4CTn1C data-mapping=title data-strict=1 data-reactions-enabled=1 data-emit-metadata=0 data-theme=light data-input-position=top data-loading=lazy data-lang=fr crossorigin=anonymous async> </script><div class="clearfix"></div></div></div><div class=" related-posts"><h2 class="text-center mb-4">Articles qui pourrait t'int√©resser</h2><div class="d-flex justify-content-center align-items-center"> <a class="smoothscroll badge badge-primary text-capitalize" href="/fr/categorie/haade-lab">Haade-lab</a></div><div class="blog-grid-container"><div class="blog-grid-item"><div class="card h-100"><div class="maxthumb"> <a href="/fr/blog/test-ecran-tactile-murale-10-pouces-elc-smt101-et-integration-mqtt"><picture> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-300-91db307f4.webp 300w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-400-91db307f4.webp 400w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-500-91db307f4.webp 500w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-600-91db307f4.webp 600w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-700-91db307f4.webp 700w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-800-91db307f4.webp 800w" type="image/webp"> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-300-91db307f4.png 300w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-400-91db307f4.png 400w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-500-91db307f4.png 500w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-600-91db307f4.png 600w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-700-91db307f4.png 700w, https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-800-91db307f4.png 800w" type="image/png"> <img class="img-thumb lazyload" src="https://haade.fr/assets/images/generated/posts/164/test-et-integration-tablette-murale-elc-smt101-bandeau-led-mqtt-home-assistant-ultimate-dashboard-800-91db307f4.png" alt="Test de la tablette murale Android ELC-SMT101" width="1200" height="675"> </picture> </a></div><div class="card-body"><h2 class="card-title"> <a class="text-dark" href="/fr/blog/test-ecran-tactile-murale-10-pouces-elc-smt101-et-integration-mqtt">Test de la tablette murale Android ELC-SMT101</a><div class="mb-2 mt-2 font-weight-normal"><div class="rating-holder"><div class="Stars" style="--rating: 4.2; --star-background: #FF6600" title="Le produit est not√© 4.2 sur 5."></div></div></div></h2><p class="card-text">Article coup de poing, aujourd‚Äôhui je vais tester la tablette 10,1 pouces de la marque ELC, la SMT101 aussi disponible en 9,7‚Äù et 15,6‚Äù, cette tablette a l‚Äôavantage d‚Äô√™tre encastrable,...</p></div><div class="card-footer bg-white"><div class="wrapfooter"> <span class="meta-footer-thumb"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-40-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-40-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="40" height="40" src="https://haade.fr/assets/images/generated/nico-40-c8508425c.png" alt="Nico"> </picture> </span> <span class="author-meta"> <a href="/fr/auteur-nico"><span class="post-name font-weight-bold">Nico</span></a> <span class="post-date">25 juillet 2025</span> </span><div class="clearfix"></div></div></div></div></div><div class="blog-grid-item"><div class="card h-100"><div class="maxthumb"> <a href="/fr/blog/test-du-programmateur-arrosage-zigbee-sonoff-swv"><picture> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-300-7cd2ffb90.webp 300w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-400-7cd2ffb90.webp 400w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-500-7cd2ffb90.webp 500w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-600-7cd2ffb90.webp 600w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-700-7cd2ffb90.webp 700w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-800-7cd2ffb90.webp 800w" type="image/webp"> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-300-7cd2ffb90.png 300w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-400-7cd2ffb90.png 400w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-500-7cd2ffb90.png 500w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-600-7cd2ffb90.png 600w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-700-7cd2ffb90.png 700w, https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-800-7cd2ffb90.png 800w" type="image/png"> <img class="img-thumb lazyload" src="https://haade.fr/assets/images/generated/posts/163/test-programmateur-arrosage-sonoff-zigbee-swv-bsp-800-7cd2ffb90.png" alt="Test du programmateur Sonoff SWV-BSP" width="1200" height="675"> </picture> </a></div><div class="card-body"><h2 class="card-title"> <a class="text-dark" href="/fr/blog/test-du-programmateur-arrosage-zigbee-sonoff-swv">Test du programmateur Sonoff SWV-BSP</a><div class="mb-2 mt-2 font-weight-normal"><div class="rating-holder"><div class="Stars" style="--rating: 4.8; --star-background: #FF6600" title="Le produit est not√© 4.8 sur 5."></div></div></div></h2><p class="card-text">Voil√† un petit moment que je n‚Äôai pas √©cris d‚Äôarticle, je m‚Äôen excuse, faute de temps et pr√©paration d‚Äôun article coup de poing sur l‚Äôint√©gration d‚Äôune tablette murale en perspective....</p></div><div class="card-footer bg-white"><div class="wrapfooter"> <span class="meta-footer-thumb"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-40-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-40-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="40" height="40" src="https://haade.fr/assets/images/generated/nico-40-c8508425c.png" alt="Nico"> </picture> </span> <span class="author-meta"> <a href="/fr/auteur-nico"><span class="post-name font-weight-bold">Nico</span></a> <span class="post-date">25 juin 2025</span> </span><div class="clearfix"></div></div></div></div></div><div class="blog-grid-item"><div class="card h-100"><div class="maxthumb"> <a href="/fr/blog/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir"><picture> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-300-ff2b80a3e.webp 300w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-400-ff2b80a3e.webp 400w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-500-ff2b80a3e.webp 500w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-600-ff2b80a3e.webp 600w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-700-ff2b80a3e.webp 700w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-800-ff2b80a3e.webp 800w" type="image/webp"> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-300-ff2b80a3e.png 300w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-400-ff2b80a3e.png 400w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-500-ff2b80a3e.png 500w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-600-ff2b80a3e.png 600w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-700-ff2b80a3e.png 700w, https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-800-ff2b80a3e.png 800w" type="image/png"> <img class="img-thumb lazyload" src="https://haade.fr/assets/images/generated/posts/160/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir-800-ff2b80a3e.png" alt="Comparatif Cam Slim VS Gen 2 Sonoff" width="1200" height="675"> </picture> </a></div><div class="card-body"><h2 class="card-title"> <a class="text-dark" href="/fr/blog/comparatif-camera-sonoff-cam-slim-vs-cam-slim-gen-2-laquelle-choisir">Comparatif Cam Slim VS Gen 2 Sonoff</a><div class="mb-2 mt-2 font-weight-normal"><div class="rating-holder"><div class="Stars" style="--rating: 4.8; --star-background: #FF6600" title="Le produit est not√© 4.8 sur 5."></div></div></div></h2><p class="card-text">Ajourd‚Äôhui comparons les deux cam√©ras du moment Sonoff disponibles √† moins de 30‚Ç¨ chez tous les commer√ßants auxquels nous sommes affili√©s. Je remercie Domadoo et Itead de m‚Äôavoir fournis ce...</p></div><div class="card-footer bg-white"><div class="wrapfooter"> <span class="meta-footer-thumb"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-40-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-40-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="40" height="40" src="https://haade.fr/assets/images/generated/nico-40-c8508425c.png" alt="Nico"> </picture> </span> <span class="author-meta"> <a href="/fr/auteur-nico"><span class="post-name font-weight-bold">Nico</span></a> <span class="post-date">2 avril 2025</span> </span><div class="clearfix"></div></div></div></div></div></div></div></div></div><footer><div class="footcontent"><div class="footleft footbox"><div class="footupper"><div class="foottopic">√Ä Propos</div><p>Haade est un blog destin√© √† aider les particuliers et professionnels √† la mise en place d‚Äôun syst√®me domotique</p></div><div class="footlower"><div class="foottopic">Contactez-nous</div><div class="phone"> <a href="#"><i class="icos phone-volume-solid"></i>+0033 6 99 40 15 86</a></div><div class="email"> <a href="/fr/contact"><i class="icos envelope-solid"></i>Formulaire de contact</a></div></div></div><div class="footmiddle footbox"><div class="foottopic">Liens utiles</div><div><a href="/fr/rgpd-politique-de-confidentialite">Politique de confidentialit√©</a></div><div><a href="/fr/mentions-legales">Mentions legales</a></div><div><a target="_blank" href="https://buildwithmatter.com/">Protocole Matter</a></div><div><a target="_blank" href="https://zigbeealliance.org/fr/%C3%A9v%C3%A9nements/">Zigbee Alliance</a></div><div><a target="_blank" href="https://z-wavealliance.org/category/z-wave-in-the-news/">Z-wave Alliance</a></div><div><a target="_blank" href="https://www.aqara.com/eu/news.html">Aquara by Xiaomi</a></div><div><a target="_blank" href="https://itead.cc/">Itead Sonoff, Nextion</a></div></div><div class="footright footbox"><div class="foottopic">Inscrivez-vous √† la Newsletter</div><form action="https://haade.us4.list-manage.com/subscribe/post?u=86f32891957737a57c0b4ade8&amp;id=92dadba2b4&amp;f_id=00639cebf0" method="post" name="embedded-mail" target="_blank"> <input type="email" placeholder="Entrez une adresse e-mail" name="EMAIL"> <input type="submit" name="Souscription" value="Envoyer" id="submit"> </form> <a href="https://github.com/haade-administrator/haade.fr/discussions" target="_blank" alt="github discussion link" aria-label="Continue la discussion sur le forum github"><i class="icob github" aria-hidden="true" title="github discussion"></i></a> <a target="_blank" href="https://www.youtube.com/channel/UCcXJ1ZsjEvQxuWJy7gH-A6w/?sub_confirmation=1" onclick="window.open(this.href, 'width=550,height=435');return false;" aria-label="Abonne toi √† notre chaine youtube"><i class="icob youtube" aria-hidden="true" title="youtube"></i></a> <a target="_blank" href="https://discord.gg/FaK6MuZ2" onclick="window.open(this.href, 'width=550,height=435');return false;" aria-label="Invitation sur notre r√©seau Discord"><i class="icob discord" aria-hidden="true" title="discord"></i></a> <a href="/fr/feed.xml" target="_blank" alt="feed rss" aria-label="partage le flux rss avec tes amis"><i class="icob rss" aria-hidden="true" title="feed rss haade"></i></a></div></div></div><div class="footbottom"><p>Copyright ¬© 2025 <a target="_blank" href="https://www.haade.fr">Haade</a> üéâ by Nicoxygen</p></div></footer></div><script src="/assets/js/main.min.js?v=a0225e1608e525477f5b4a4ae3f3425c" type="text/javascript"></script> <script src="/assets/js/lunrsearchengine-fr.js?v=ceef0e36504019105ad7abc454ff314e"></script>
