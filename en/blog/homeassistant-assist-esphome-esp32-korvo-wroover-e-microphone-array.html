<!DOCTYPE html><html lang="en-GB"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link rel="icon" href="/assets/images/logo.png"><title>Esp32-Korvo The microphone you need ! - Haade.fr</title><meta name="description" content="Esp32-korvo woover-e is the complete microphone to control home automation by voice in home-assistant thanks to esphome and wifi all for less than €30"><link rel="canonical" href="https://haade.fr/en/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array"><link rel="alternate" hreflang="en" href="https://haade.fr/en/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array"/><link rel="alternate" hreflang="fr" href="https://haade.fr/fr/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array"/><meta property="og:locale" content="fr-FR"><meta property="og:type" content="article"><meta property="og:title" content="Esp32-Korvo The microphone you need !"><meta property="og:description" content="Esp32-korvo woover-e is the complete microphone to control home automation by voice in home-assistant thanks to esphome and wifi all for less than €30"><meta property="og:url" content="https://haade.fr/en/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array"><meta property="og:site_name" content="Haade.fr"><meta property="og:image" content="https://haade.fr/esp32-korvo-microphone-array-assist-esphome-homeassistant-en.png"><meta property="article:author" content=""><meta property="article:published_time" content="2023-11-25T12:00:00+01:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "BlogPosting", "url": "https://haade.fr/en/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array", "name": "Esp32-Korvo The microphone you need !", "headline": "Esp32-Korvo The microphone you need !", "keywords": "Automation,Tests,Home-Assistant", "description": "Esp32-korvo woover-e is the complete microphone to control home automation by voice in home-assistant thanks to esphome and wifi all for less than €30", "articleBody": "Home-assistant announced at the beginning of 2023, the year of the voice. By hiring Michael Hansen, nickname synesthesiam who is none other than the creator of the software Rhasspy, the company Nabu Casa is digging this breach in the world of voice control which is so lacking in current assistants.\n\nI have for a long time tested various microphone arrays (respeaker 4-micarray and matrix voice), under Rhasspy, but both have disadvantages, they do not work without an additional raspberry which serves as host to the microphones. I added an esp32 to the matrix voice to make it work alone, but the company closed its doors at the beginning of 2023 leaving for dead the evolution of the software. At the time of writing this article, no one has developed or taken over the current software.\n\n\n \n \n \n \n Micro array esp32-korvo\n By Espressif\n Array microphone esp32-korvo esp-wroover-e with esphome and home-assistant\n \n \n \n Buy Now out of Aliexpress\n \n \n \n \n \n \n \n \n\n\n\n it’s a shame because the array matrix microphones (voice and creator) are well thought out modules.\n\n\nAnyway, back to our topic, we are at the end of 2023 I wanted to take an overview of the evolution of Home Assistant Assist and for that I purchased on Aliexpress a microphone working with an esp32, the esp32-korvo wroover-e version\n\nESP32-korvo wroover-e v1.1\n\nTo begin with there are 2 versions of the microphone developed by Espressif, one works with an ESP32-S3-Korvo-1 v5.0 currently costs more than €50 and is at hardware version 5.0 , it seems that this version is only equipped with 3 array microphones as for the wroover version and not 6. The evolution is mainly found in the management of an external battery.\n\n This version is rarely resold, at least for the moment.\n\n\nThen you will easily find the tested version, the ESP32-korvo wroover-e, it will only cost you €22 delivered.\n\nWhat does the ESP32-korvo wroover-e offer for this price.\n\nHere I am going to announce a pleasant surprise to you, the ESP32-korvo wroover-e is very complete, so complete that it only lacks a mounting box, but frankly for the price… ** There is only Espressif to carry out this type of promotion.**\n\nThe ESP32-korvo wroover-e, is an assembly of two cards, the upper card is made up of 12 LEDs from the ws2812 chipset, as well as analog buttons (mode, set, rec, play, vol+/-) and 3 array microphones. You could even add 5 more because the card has pre-soldered slots (see photo).\n\ncomposition of the 6 microphones:\nMic_Bias34\n\n Default: NSM0418DT(NeoMEMS);\n Alternative: MSM261D4030H1AP(MEMSensing Microsystems);\n\n\n2 x Amic 55mm Mic_Bias12\n\n\n\nPS: Despite the photos provided on Github, the upper card is identical on the two versions available and manufactured by Espressif.\n\nWhat can we find on the bottom map:\n\n\n\nThere you realize that for the price the menu is very complete:\n\n on/off button\n headphone connector\n external HP connector\n micro sd card\n usb uart\n-usb 5v\n connector for 5v battery\n\n\nGPIO esp32-korvo connection diagram\n\n\n\nIntegrate ESP32-korvo wroover-e into esphome\n\nupload of the first firmware\n\nThanks to the code below you can easily integrate the ESP32-korvo wroover-e microphone into esphome and thus use it in home assistant.\n\nsubstitutions:\n\n##### WIFI SETUP #####\n###### CHANGE ME START ######\n device_name: &quot;esp32korvo_mic&quot; \n wifi_ssid: !secret wifi_ssid\n wifi_password: !secret wifi_password\n apikey: !secret enc_key_esp32korvo_mic\n\n##### CHANGE ME END #####\n\n##### DO NOT CHANGE ANYTHING! #####\n\npackages:\n ##### download esp32-korvo for esphome code from Github\n remote_package:\n url: https://github.com/haade-administrator/korvo-esphome\n ref: main\n files: [esp32korvo_esphome.yaml]\n refresh: 300s\n\n##### DO NOT CHANGE ANYTHING! #####\n\nin order to send the code above in UART mode you will need:\n\n connect 2 usb cables to the two usb ports. (the USB power can be powered by a 5v transformer or connected to a powered port on your PC).\n the second usb-uart port must be connected to the pc\n locate the boot button\n\n\nPress the boot button without releasing it, then connect the two USB cables, and finally release the boot button\n\n\n\n \n \n \n \n Info\n Important! Once the firmware has been sent by UART, it is important to disconnect the esp32-korvo from the mains, once reconnected, press the reset button for 1 second to launch it\n \n\n\nSetting ESP32-korvo wroover-e and esphome\n\nIn order to configure your new microphone in home-assistant I invite you to click on this link below, and normally a new esphome instance is discovered, all you have to do is click on configure and restart homeassistant.\n\n\n\nFunction states of ESP32-korvo wroover-e\n\nHere are the available functions:\n\n Led controls of ESP32-korvo wroover-e\n wakeword states\n states of the physical buttons of the ESP32-korvo wroover-e\n end of speech detection setting\n firmware status\n choice of pipeline (default homeassistant)\n restart button\n wake word status\n IP adress\n connection status\n and signal status\n\n\n\n\n\n In the future update an additional light function will be available which will allow you to choose a light setting for the wakeword (off, day, night)\n\n\nYou can sleep and already test these functions, just integrate ref: dev into the esphome code\n\n\n\nInstallation Voice assistant\n\nTo Install a Local Assistant follow the official home assistant tutorial.\n\nInstall a local Home assistant\n\nIn Home Assistant, the Assist pipelines are made up of various components that together form a voice assistant.\n\nFor each component you can choose from different options. There is a speech-to-text and text-to-speech option that runs entirely local.\n\nThe speech-to-text option is Whisper. It’s an open source AI model that supports various languages. We use a forked version called faster-whisper. On a Raspberry Pi 4, it takes around 8 seconds to process incoming voice commands. On an Intel NUC it is done in under a second.\n\n\n For text-to-speech we have developed Piper. Piper is a fast, local neural text-to-speech system that sounds great and is optimized for the Raspberry Pi 4. It supports many languages. On a Raspberry Pi, using medium quality models, it can generate 1.6s of voice in a second.\n\n\n\n The installation of whisper, piper and openwakeword on HA and raspberrypi 4 is restrictive and heavy for the moment this should evolve in the coming months.\n\n\nCharacteristics of ESP32-korvo wroover-e\n\n\n \n \n Key Componenet\n Description\n \n \n ESP32-WROVER-E\n This ESP32 module contains the latest ESP32-D0WD-V3, a 16 MB flash and a 8 MB PSRAM for flexible data storage, featuring Wi-Fi / BT connectivity and data processing capability.\n \n \n Power Regulator\n 5V-to-3.3V regulator.\n \n \n Power Switch\n On: The board is powered on; Off: The board is powered off.\n \n \n Battery Port\n Connect a battery.\n \n \n USB Power Port\n Supply power to the board.\n \n \n USB-UART Port\n A communication interface between a computer and the ESP32-WROVER-E module.\n \n \n USB-UART Bridge\n Single USB-UART bridge chip provides transfer rates of up to 3 Mbps.\n \n \n Reset Button\n Pressing this button resets the system.\n \n \n Boot Button\n Download button. Holding down Boot and then pressing EN initiates Firmware Download mode for downloading firmware through the serial port.\n \n \n Micro SD Card\n Slot\tUseful for developing applications that access MicroSD card for data storage and retrieval.\n \n \n Audio ADC\n High-performance four-channel audio ADC. Among the four channels, three are for microphones, and one for AEC function.\n \n \n Audio PA\n Amplify audio signals to external speaker at maximum 3 W.\n \n \n Speaker Connector\n Connect an external speaker.\n \n \n Earphone Connector\n Connect external earphones.\n \n \n FPC Connector\n Connect mainboard and subboard.\n \n \n Audio Codec\n Audio codec ES8311 communicates with ESP32 via the I2S bus, which converts digital signals to analog signals.\n \n \n Analog Microphone\n Three analog microphone arrays (spacing = 65mm).\n \n \n RGB LED\n 12 addressable RGB LEDs (WS2812).\n \n \n Function Button\n Six function buttons, i.e. PLAY, SET, VOL -, VOL +, MODE and REC. These function buttons are user-definable.\n \n \n Sizes\n 90x90x20mm\n \n \n\n\nProduct advantages ESP32-korvo wroover-e\n\n\n manufacturing quality\n the price (less than €22)\n A successful design\n the Espressif experience\n the number of functions\n the number of connections\n possibility of adding additional microphones\n\n\nThe - of the product ESP32-korvo wroover-e\n\n\n No box upon purchase\n Only 3 microphones on the module\n\n\n\n \n \n \n \n Micro array esp32-korvo\n By Espressif\n Array microphone esp32-korvo esp-wroover-e with esphome and home-assistant\n \n \n \n Buy Now out of Aliexpress\n \n \n \n \n \n \n \n \n\n\nConclusion\n\nThanks to this tutorial you will be able to control a complete microphone ESP32-korvo wroover-e in Home-assistant with esphome and test the voice commands. Everything works but is not optimal, you will have to wait a few weeks to test future improvements.\n", "datePublished": "2023-11-25 12:00:00 +0100", "dateModified": "2023-11-25 12:00:00 +0100", "inLanguage": "en-GB", "author": { "@type": "Person", "name": null, "alternateName": null, "description": null, "url": null,"image": null,"email": null }, "publisher": { "@type": "Organization", "name": "Haade.fr", "url": "https://haade.fr", "logo": { "@type": "ImageObject", "width": 250, "height": 63, "url": "https://haade.fr/assets/images/logo.png" } }, "mainEntityOfPage": { "@type": "WebPage", "@id": "https://haade.fr/en/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array" }, "image": { "@type": "ImageObject", "width": 250, "height": 94, "url": "https://haade.fr/esp32-korvo-microphone-array-assist-esphome-homeassistant-en.png" } } </script><link href="/assets/css/theme.css?v=1760756155002985392" media="screen, projection, print" rel="stylesheet"> <script data-goatcounter="https://haade.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script><link rel="preload" href="/assets/fonts/montserrat/Montserrat-VariableFont_wght.woff2" as="font" crossorigin><link rel="preload" href="/assets/fonts/icomoon/icomoon.woff2?4fpajq" as="font" crossorigin><link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicon.ico" ><link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png" ><header><div class="firstnavbar"><div class="links"> <a href="/en/">Home</a> <a href="/en/gdpr-general-data-protection-regulation/">GDPR</a> <a href="/en/contact/">Contact</a><div class="sl-nav"> language:<ul><li><b>English</b> <i class="ico angle-down-solid triangle-arrow trrow" aria-hidden="true"></i><div class="triangle"></div><ul class="show-flags"><li><a href="/fr/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array"><i class="sl-flag fix flag-fr"><div id="Francais"></div></i><span class="active">Francais</span></a><li class="current"><a href="/en/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array"><i class="sl-flag fix flag-england"><div id="English"></div></i><span class="active">English</span></a></ul></ul></div></div><div class="social-firstnav"> <a href="https://github.com/haade-administrator/haade.fr/discussions" target="_blank" alt="github discussion link" aria-label="Continue the discussion on the github forum"><i class="icob github" width="1em" height="1em" aria-hidden="true" title="github discussion"></i></a> <a href="https://www.youtube.com/channel/UCcXJ1ZsjEvQxuWJy7gH-A6w/?sub_confirmation=1" onclick="window.open(this.href, 'width=550,height=435');return false;" aria-label="Subscribe to our youtube channel"><i class="icob youtube" width="1em" height="1em" target="_blank" alt="youtube" aria-hidden="true" title="youtube"></i></a> <a href="https://discord.gg/FaK6MuZ2" onclick="window.open(this.href, 'width=550,height=435');return false;" aria-label="Invitation to our Discord network"><i class="icob discord" width="1em" height="1em" target="_blank" alt="discord" aria-hidden="true" title="discord"></i></a> <a href="/en/feed.xml" target="_blank" alt="feed rss" aria-label="share the rss feed with your friends"><i class="icob rss" width="1em" height="1em" aria-hidden="true" title="feed rss haade"></i></a></div></div><div class="secondheader"> <a class="navbar-brand" href="/en/"><picture> <source sizes="(max-width: 524px) 150px, 250px" srcset="https://haade.fr/assets/images/generated/logo-150-379587352.webp 150w, https://haade.fr/assets/images/generated/logo-250-379587352.webp 250w" type="image/webp"> <source sizes="(max-width: 524px) 150px, 250px" srcset="https://haade.fr/assets/images/generated/logo-150-64f85a78e.png 150w, https://haade.fr/assets/images/generated/logo-250-64f85a78e.png 250w" type="image/png"> <img id="logoIImage" src="https://haade.fr/assets/images/generated/logo-250-64f85a78e.png" alt="Logo officiel du site domotique Haade" width="250" height="94"> </picture> </a><p class="sitetag"> Home Assistance Alsace home automation & electronics.</p></div><nav id="nav"><div class="navbar"> <i class='icos bars-solid'></i><div class="nav-links"><div class="sidebar-logo"> <span class="logo-name">H2Ade</span> <i class='icos times-solid'></i></div><ul class="links"><li><a href="/en/">Home<span class="badge badge-light tags">149</span></a><li> <a href="https://haade.fr/en/category/automation">Automation</a> <i class="icos angle-down-solid htmlcss-arrow-automation arrow"></i><ul class="htmlCss-sub-menu-automation sub-menu"><li><a href="/en/category/security">Security</a><li class="more"> <span><a href="/en/category/haade-lab">Tutos</a> <i class='icos angle-right-solid arrow more-arrow-automation'></i> </span><ul class="more-sub-menu-automation sub-menu"><li><a href="/en/category/mini-tutos">Mini-tutorials</a><li><a href="/en/category/videos">Videos</a><li><a href="/en/category/home-assistant">Home-Assistant</a><li><a href="/en/category/jeedom">Jeedom</a></ul></ul><li><a href="/en/category/news">News</a><li><a href="/en/category/tests">Tests</a><li><a href="/en/authors">Contributors<span class="badge badge-primary">News</span></a><li><a target="_blank" href="https://github.com/haade-administrator/haade.fr/discussions">Forum</a><li><a href="/en/category-product/shop">Shop</a> <i class="icos angle-down-solid htmlcss-arrow-shop arrow"></i><ul class="htmlCss-sub-menu-shop sub-menu"><li class="more"> <span><a href="#">Brand</a> <i class='icos angle-right-solid arrow more-arrow-brand'></i> </span><ul class="more-sub-menu-brand sub-menu"><li><a href="/en/category-product/jeedom">Jeedom</a><li><a href="/en/category-product/moes">Moes</a><li><a href="/en/category-product/neo-coolcam">Neo-Coolcam</a><li><a href="/en/category-product/nodon">Nodon</a><li><a href="/en/category-product/raspberry-pi">Raspberry-pi</a><li><a href="/en/category-product/shelly">Shelly</a><li><a href="/en/category-product/sonoff">Sonoff</a><li><a href="/en/category-product/tedee">Tedee</a><li><a href="/en/category-product/xiaomi">Xiaomi</a><li><a href="/en/category-product/zemismart">Zemismart</a><li><a href="/en/category-product/zooz">Zooz</a></ul><li class="more"> <span><a href="#">Protocol</a> <i class='ico angle-right-solid arrow more-arrow-protocol'></i> </span><ul class="more-sub-menu-protocol sub-menu"><li><a href="/en/category-product/bluetooth">Bluetooth</a><li><a href="/en/category-product/esp">Esp 32/8266</a><li><a href="/en/category-product/matter">Matter</a><li><a href="/en/category-product/wifi">Wifi</a><li><a href="/en/category-product/zigbee">Zigbee</a><li><a href="/en/category-product/zwave">Z-wave</a></ul></ul><li><div class="sl-nav"> language:<ul><li><b>English</b> <i class="ico angle-down-solid triangle-arrow trrow" aria-hidden="true"></i><div class="triangle"></div><ul class="show-flags"><li><a href="/fr/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array"><i class="sl-flag fix flag-fr"><div id="Francais"></div></i><span class="active">Francais</span></a><li class="current"><a href="/en/blog/homeassistant-assist-esphome-esp32-korvo-wroover-e-microphone-array"><i class="sl-flag fix flag-england"><div id="English"></div></i><span class="active">English</span></a></ul></ul></div></ul></div><script src="/assets/js/lunr.min.js?v=a944ea77ca394dff9a667d5aea56f0e9" type="text/javascript"></script><div class="search-box"> <i class='icos search-solid'></i><div class="input-box"> <form onSubmit="return lunr_search(document.getElementById('lunrsearch').value);" class="search-form" role="search"> <input autocomplete="on" id="lunrsearch" class="search-input" name="q" maxlength="200" placeholder="Search..." type="search" value=""> <input class="search-action" type="submit" value="Ok"> </form></div><div id="lunrsearchresults"><ul></ul></div></div></div></nav></header><div class="site-content"><div class="container"><div class="main-content"> <script> var addViews = ""; var addViewsValue = parseInt(addViews); var r = new XMLHttpRequest(); r.addEventListener('load', function() { var visits = parseInt(JSON.parse(this.responseText).count.replace(/\s/g, '')); var totalVisits = visits; if (!isNaN(addViewsValue)) { totalVisits += addViewsValue; } document.getElementById('visits').innerText = totalVisits; }); r.open('GET', 'https://haade.goatcounter.com/counter/' + encodeURIComponent(location.pathname) + '.json'); r.send(); </script><div class="entry-header"><nav class="ariane"><ol class="arianefil" itemscope itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemprop="item" href="https://haade.fr/en/"><span itemprop="name">Home</span></a><meta itemprop="position" content="1"><li><span class="prompt">&nbsp; > &nbsp;</span><li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemprop="item" href="https://haade.fr/en/category/automation"><span itemprop="name">Automation</span></a><meta itemprop="position" content="2"><li><span class="prompt">&nbsp; > &nbsp;</span><li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemprop="item" href="https://haade.fr/en/category/tests"><span itemprop="name">Tests</span></a><meta itemprop="position" content="3"><li><span class="prompt">&nbsp; > &nbsp;</span>Esp32-Korvo The microphone you need !</ol></nav><h1 class="posttitle">Esp32-Korvo The microphone you need !</h1><div class="d-flex align-items-start mt-4"><div class="authorpost"> <a href="/en/author-nico"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-60-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-60-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="60" height="60" src="https://haade.fr/assets/images/generated/nico-60-c8508425c.png" alt="Nico"> </picture> </a> Writing by <a href="/en/author-nico"><b>Nico</b></a></div><div class="readingpost">&nbsp;<i class="icos calendar-check" width="1em" height="1em"></i> <span class="post-date"><time class="post-date" datetime="25-11-2023">25<sup>th</sup>November 2023 &nbsp; </time></span> <span><span class="reading-time" title="Estimated read time"> <i class="icos history" width="1em" height="1em"></i> <strong> 8 min</strong> of reading </span> </span><p><i class="icos eye-solid" width="1em" height="1em"></i> This page has been visited <span id="visits" style="font-weight:bold">...</span> times</p></div></div></div><div class="entry-featured-image"><picture> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) 800px, (min-width: 1025px) 940px, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-300-a4892fad6.webp 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-400-a4892fad6.webp 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-500-a4892fad6.webp 500w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-600-a4892fad6.webp 600w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-700-a4892fad6.webp 700w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-800-a4892fad6.webp 800w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-900-a4892fad6.webp 900w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-940-a4892fad6.webp 940w" type="image/webp"> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) 800px, (min-width: 1025px) 940px, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-300-a4892fad6.png 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-400-a4892fad6.png 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-500-a4892fad6.png 500w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-600-a4892fad6.png 600w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-700-a4892fad6.png 700w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-800-a4892fad6.png 800w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-900-a4892fad6.png 900w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-940-a4892fad6.png 940w" type="image/png"> <img class="lazyload featured-image-post" width="940" height="529" itemprop="image" src="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-microphone-array-assist-esphome-homeassistant-en-940-a4892fad6.png" alt="Esp32-Korvo The microphone you need !"> </picture></div><div class="article-post"><p><em></em></p><div class="toc mt-4 mb-4 lead"><h3 class="font-weight-bold">Sommary</h3><ul class="table_of"><li class="toc"><a href="#esp32-korvo-wroover-e-v11" class="toc_anchor">ESP32-korvo wroover-e v1.1</a><li class="toc"><a href="#what-does-the-esp32-korvo-wroover-e-offer-for-this-price" class="toc_anchor">What does the ESP32-korvo wroover-e offer for this price.</a><ul class="toc_sub"><li class="toc"><a href="#what-can-we-find-on-the-bottom-map" class="toc_anchor">What can we find on the bottom map:</a></ul><li class="toc"><a href="#integrate-esp32-korvo-wroover-e-into-esphome" class="toc_anchor">Integrate ESP32-korvo wroover-e into esphome</a><ul class="toc_sub"><li class="toc"><a href="#upload-of-the-first-firmware" class="toc_anchor">upload of the first firmware</a><li class="toc"><a href="#setting-esp32-korvo-wroover-e-and-esphome" class="toc_anchor">Setting ESP32-korvo wroover-e and esphome</a></ul><li class="toc"><a href="#function-states-of-esp32-korvo-wroover-e" class="toc_anchor">Function states of ESP32-korvo wroover-e</a><li class="toc"><a href="#installation-voice-assistant" class="toc_anchor">Installation Voice assistant</a><li class="toc"><a href="#characteristics-of-esp32-korvo-wroover-e" class="toc_anchor">Characteristics of ESP32-korvo wroover-e</a><li class="toc"><a href="#product-advantages-esp32-korvo-wroover-e" class="toc_anchor">Product advantages ESP32-korvo wroover-e</a><li class="toc"><a href="#the---of-the-product-esp32-korvo-wroover-e" class="toc_anchor">The - of the product ESP32-korvo wroover-e</a><li class="toc"><a href="#conclusion" class="toc_anchor">Conclusion</a></ul></div><div class="content-post"><p>Home-assistant announced at the beginning of 2023, <strong>the year of the voice</strong>. By hiring Michael Hansen, nickname <strong>synesthesiam</strong> who is none other than the creator of the software <a href="https://github.com/rhasspy" target="_blank">Rhasspy</a>, the company Nabu Casa is digging this breach in the world of voice control which is so lacking in current assistants.</p><p>I have for a long time <strong>tested various microphone arrays</strong> (respeaker 4-micarray and matrix voice), under Rhasspy, <strong>but both have disadvantages</strong>, they do not work without an additional raspberry which serves as host to the microphones. I added an <strong>esp32</strong> to the matrix voice to make it work alone, but the company closed its doors at the beginning of 2023 <strong>leaving for dead</strong> the evolution of the software. At the time of writing this article, no one has developed or taken over the current software.</p><div class="embedproduct"><div class="embedproduct-picture"><img class="pictinpost lazyload" width="250" height="250" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII=" data-src="https://ae01.alicdn.com/kf/H986d1437c3244ad5aad6045e7bab4913b/ESP32-Korvo-ESP32-AI-Conseil-de-D-veloppement-Vocal-Tech-Multi-iler-ESP32-WROVER-E-WIFI.jpg_.webp" alt="Array microphone esp32-korvo esp-wroover-e with esphome and home-assistant" /></div><div class="text"><div class="embedproduct-info"><h2 class="no_toc">Micro array esp32-korvo</h2><h3 class="no_toc">By Espressif</h3><p>Array microphone esp32-korvo esp-wroover-e with esphome and home-assistant</p></div><div class="embedproduct-price"><div class="embedaffiliate"> <span class="aliexbutton" role="button"><a href="https://s.click.aliexpress.com/e/_DnPsmnt" target="_blank" rel="nofollow noopener"><img src="/assets/images/aliexpress-payment.png" width="20" height="20" class="lazyload" alt="aliexpress logo payment" /> Buy Now out of Aliexpress</a></span></div></div></div></div><blockquote><p>it’s a shame because the array matrix microphones (voice and creator) are well thought out modules.</p></blockquote><p>Anyway, back to our topic, we are at the end of 2023 I wanted to take an overview of the evolution of <a href="https://www.home-assistant.io/voice_control/" target="_blank">Home Assistant Assist</a> and for that I purchased on <a href="https://fr.aliexpress.com/item/1005002803964499.html?aff_fcid=a4c8d236a74a4f56a12872b2dea1489c-1700590474538-09550-_DnPsmnt&amp;tt=CPS_NORMAL&amp;aff_fsk=_DnPsmnt&amp;aff_platform=shareComponent-detail&amp;sk=_DnPsmnt&amp;aff_trace_key=a4c8d236a74a4f56a12872b2dea1489c-1700590474538-09550-_DnPsmnt&amp;terminal_id=0a193726d98146d989b0c2b2ea1c0730&amp;afSmartRedirect=y" target="_blank">Aliexpress a microphone working with an esp32, the esp32-korvo wroover-e version</a></p><h2 id="esp32-korvo-wroover-e-v11">ESP32-korvo wroover-e v1.1</h2><p>To begin with there are <strong>2 versions of the microphone</strong> developed by Espressif, one works with an <a href="https://github.com/espressif/esp-skainet/blob/master/docs/en/hw-reference/esp32s3/user-guide-korvo-1.md" target="_blank">ESP32-S3-Korvo-1 v5.0</a> currently costs <strong>more than €50</strong> and is at hardware version 5.0 , it seems that this version is only equipped with 3 array microphones as for the wroover version and not 6. <strong>The evolution is mainly found in the management of an external battery.</strong></p><blockquote><p>This version is rarely resold, at least for the moment.</p></blockquote><p>Then you will easily find the tested version, the ESP32-korvo wroover-e, it will only <strong>cost you €22 delivered</strong>.</p><h2 id="what-does-the-esp32-korvo-wroover-e-offer-for-this-price">What does the ESP32-korvo wroover-e offer for this price.</h2><p>Here I am going to announce a pleasant surprise to you, the <a href="https://github.com/espressif/esp-skainet/blob/master/docs/en/hw-reference/esp32/user-guide-esp32-korvo-v1.1.md" target="_blank">ESP32-korvo wroover-e</a> is very complete, so complete that it only lacks a mounting box, but frankly for the price… ** There is only <a href="https://www.espressif.com/" target="_blank">Espressif</a> to carry out this type of promotion.**</p><p>The ESP32-korvo wroover-e, is an assembly of two cards, the upper card is made up of 12 LEDs from the <strong>ws2812 chipset</strong>, as well as analog buttons (mode, set, rec, play, vol+/-) <strong>and 3 array microphones. You could even add 5 more because the card has pre-soldered slots (see photo).</strong></p><p><strong>composition of the 6 microphones:</strong> <em>Mic_Bias34</em></p><ol><li>Default: NSM0418DT(NeoMEMS);<li>Alternative: MSM261D4030H1AP(MEMSensing Microsystems);</ol><p>2 x Amic 55mm <em>Mic_Bias12</em></p><picture><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-240-d82eaffa2.webp 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-300-d82eaffa2.webp 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-400-d82eaffa2.webp 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-480-d82eaffa2.webp 480w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-698-d82eaffa2.webp 698w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-820-d82eaffa2.webp 820w" type="image/webp" /><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-240-d82eaffa2.png 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-300-d82eaffa2.png 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-400-d82eaffa2.png 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-480-d82eaffa2.png 480w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-698-d82eaffa2.png 698w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-820-d82eaffa2.png 820w" type="image/png" /><img class="pictinpost lazyload" width="940" height="529" src="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-240-d82eaffa2.png" alt="additional location esp32-korvo microphone array home assistant" /></picture><p><strong>PS:</strong> Despite the photos provided on Github, the upper card is identical on the two versions available and manufactured by Espressif.</p><h3 id="what-can-we-find-on-the-bottom-map">What can we find on the bottom map:</h3><picture><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-240-236318376.webp 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-300-236318376.webp 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-400-236318376.webp 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-480-236318376.webp 480w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-698-236318376.webp 698w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-750-236318376.webp 750w" type="image/webp" /><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-240-236318376.png 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-300-236318376.png 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-400-236318376.png 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-480-236318376.png 480w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-698-236318376.png 698w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-750-236318376.png 750w" type="image/png" /><img class="pictinpost lazyload" width="750" height="635" src="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-240-236318376.png" alt="special feature of the esp32-korvo wroover-e main board" /></picture><p><strong>There you realize that for the price the menu is very complete:</strong></p><ul><li>on/off button<li>headphone connector<li>external HP connector<li>micro sd card<li><strong>usb uart</strong> -usb 5v<li>connector for 5v battery</ul><div class="contentlink"><a href="https://dl.espressif.com/dl/schematics/ESP32-KORVO_V1.1_schematics.pdf" target="_blank">GPIO esp32-korvo connection diagram</a><i class="icor file-pdf-regular"></i></div><picture><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-240-a2cd270fe.webp 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-300-a2cd270fe.webp 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-400-a2cd270fe.webp 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-480-a2cd270fe.webp 480w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-698-a2cd270fe.webp 698w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-820-a2cd270fe.webp 820w" type="image/webp" /><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-240-a2cd270fe.png 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-300-a2cd270fe.png 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-400-a2cd270fe.png 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-480-a2cd270fe.png 480w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-698-a2cd270fe.png 698w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-820-a2cd270fe.png 820w" type="image/png" /><img class="pictinpost lazyload" width="940" height="1057" src="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-v1.1-wroover-e-mainboard-add-microphone-array-en-detail-240-a2cd270fe.png" alt="esp32-korvo-wroover-b in detail" /></picture><h2 id="integrate-esp32-korvo-wroover-e-into-esphome">Integrate ESP32-korvo wroover-e into esphome</h2><h3 id="upload-of-the-first-firmware">upload of the first firmware</h3><p>Thanks to the code below you can easily integrate the ESP32-korvo wroover-e microphone into esphome and thus use it in home assistant.</p><figure class="highlight"><pre><code class="language-yaml" data-lang="yaml">substitutions:

##### WIFI SETUP #####
###### CHANGE ME START ######
  device_name: &quot;esp32korvo_mic&quot; 
  wifi_ssid: !secret wifi_ssid
  wifi_password: !secret wifi_password
  apikey: !secret enc_key_esp32korvo_mic

##### CHANGE ME END #####

##### DO NOT CHANGE ANYTHING! #####

packages:
  ##### download esp32-korvo for esphome code from Github
  remote_package:
    url: https://github.com/haade-administrator/korvo-esphome
    ref: main
    files: [esp32korvo_esphome.yaml]
    refresh: 300s

##### DO NOT CHANGE ANYTHING! #####</code></pre></figure><p>in order to send the code above in UART mode <strong>you will need</strong>:</p><ul><li>connect <strong>2 usb cables</strong> to the two <strong>usb ports</strong>. (the USB power can be powered by a 5v transformer or connected to a powered port on your PC).<li>the second usb-uart port must be connected to the pc<li>locate the boot button</ul><p><strong>Press the boot button without releasing it, then connect the two USB cables, and finally release the boot button</strong></p><p><img src="/assets/images/posts/97/esp32-korvo-esphome-flash-firmware.webp" alt="Sending esphome firmware to an esp32-korvo" width="940" height="529" class="lazyload pictaninpost" /></p><div class="alert alert-info" role="alert"><div class="alert-icon"> <i class="icos info-circle-solid"></i></div><div class="alert-text"><h4 class="no_toc">Info</h4><p>Important! Once the firmware has been sent by UART, it is important to disconnect the esp32-korvo from the mains, <b>once reconnected, press the reset button for 1 second to launch it</b></p></div></div><h3 id="setting-esp32-korvo-wroover-e-and-esphome">Setting ESP32-korvo wroover-e and esphome</h3><p>In order to configure your new microphone in home-assistant I invite you to click on this link below, and normally a new esphome instance is discovered, all you have to do is click on <strong>configure and restart homeassistant</strong>.</p><p><a href="https://my.home-assistant.io/redirect/integration/?domain=esphome" target="_blank"><img src="https://my.home-assistant.io/badges/integration.svg" alt="Open your Home Assistant instance and show an integration." /></a></p><h2 id="function-states-of-esp32-korvo-wroover-e">Function states of ESP32-korvo wroover-e</h2><p>Here are the available functions:</p><ul><li>Led controls of ESP32-korvo wroover-e<li>wakeword states<li>states of the physical buttons of the ESP32-korvo wroover-e<li>end of speech detection setting<li>firmware status<li>choice of pipeline (default homeassistant)<li>restart button<li>wake word status<li>IP adress<li>connection status<li>and signal status</ul><picture><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-240-d754b145f.webp 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-300-d754b145f.webp 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-400-d754b145f.webp 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-480-d754b145f.webp 480w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-698-d754b145f.webp 698w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-820-d754b145f.webp 820w" type="image/webp" /><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-240-d754b145f.png 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-300-d754b145f.png 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-400-d754b145f.png 400w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-480-d754b145f.png 480w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-698-d754b145f.png 698w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-820-d754b145f.png 820w" type="image/png" /><img class="pictinpost lazyload" width="940" height="811" src="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-fonctions-disponibles-240-d754b145f.png" alt="available functions of esp32-korvo-wroover-b microphone in esphome" /></picture><blockquote><p>In the future update an additional light function will be available which will allow you to choose a light setting for the wakeword (off, day, night)</p></blockquote><p>You can sleep and already test these functions, just integrate <code>ref: dev</code> into the esphome code</p><picture><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-prochaines-fonctions-disponibles-240-97ce7d27d.webp 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-prochaines-fonctions-disponibles-300-97ce7d27d.webp 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-prochaines-fonctions-disponibles-332-97ce7d27d.webp 332w" type="image/webp" /><source sizes="(max-width: 480px) 480px, (max-width: 768px) 698px, (max-width: 1024px) 820px, (min-width: 1025px) 820px" srcset="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-prochaines-fonctions-disponibles-240-97ce7d27d.png 240w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-prochaines-fonctions-disponibles-300-97ce7d27d.png 300w, https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-prochaines-fonctions-disponibles-332-97ce7d27d.png 332w" type="image/png" /><img class="pictinpost lazyload" width="332" height="491" src="https://haade.fr/assets/images/generated/posts/97/esp32-korvo-esphome-prochaines-fonctions-disponibles-240-97ce7d27d.png" alt="next available functions of esp32-korvo-wroover-b microphone in esphome" /></picture><h2 id="installation-voice-assistant">Installation Voice assistant</h2><p>To Install a Local Assistant follow the official home assistant tutorial.</p><p><a href="https://www.home-assistant.io/voice_control/voice_remote_local_assistant/" target="_blank">Install a local Home assistant</a></p><p>In Home Assistant, the Assist pipelines are made up of various components that together form a voice assistant.</p><p>For each component you can choose from different options. There is a speech-to-text and text-to-speech option that <strong>runs entirely local</strong>.</p><p>The speech-to-text option is <strong>Whisper</strong>. It’s an open source AI model that supports various languages. We use a forked version called <strong>faster-whisper</strong>. On a <strong>Raspberry Pi 4, it takes around 8 seconds to process incoming voice commands</strong>. On an Intel NUC it is done in under a second.</p><blockquote><p>For text-to-speech we have developed Piper. Piper is a fast, local neural text-to-speech system that sounds great and is optimized for the Raspberry Pi 4. It supports many languages. On a Raspberry Pi, using medium quality models, it can generate 1.6s of voice in a second.</p></blockquote><blockquote><p>The installation of whisper, piper and openwakeword on HA and raspberrypi 4 is <strong>restrictive and heavy</strong> for the moment this should evolve in the coming months.</p></blockquote><h2 id="characteristics-of-esp32-korvo-wroover-e">Characteristics of ESP32-korvo wroover-e</h2><table><tbody><tr><td><strong>Key Componenet</strong><td><strong>Description</strong><tr><td>ESP32-WROVER-E<td>This ESP32 module contains the latest ESP32-D0WD-V3, a 16 MB flash and a 8 MB PSRAM for flexible data storage, featuring Wi-Fi / BT connectivity and data processing capability.<tr><td>Power Regulator<td>5V-to-3.3V regulator.<tr><td>Power Switch<td>On: The board is powered on; Off: The board is powered off.<tr><td>Battery Port<td>Connect a battery.<tr><td>USB Power Port<td>Supply power to the board.<tr><td>USB-UART Port<td>A communication interface between a computer and the ESP32-WROVER-E module.<tr><td>USB-UART Bridge<td>Single USB-UART bridge chip provides transfer rates of up to 3 Mbps.<tr><td>Reset Button<td>Pressing this button resets the system.<tr><td>Boot Button<td>Download button. Holding down Boot and then pressing EN initiates Firmware Download mode for downloading firmware through the serial port.<tr><td>Micro SD Card<td>Slot Useful for developing applications that access MicroSD card for data storage and retrieval.<tr><td>Audio ADC<td>High-performance four-channel audio ADC. Among the four channels, three are for microphones, and one for AEC function.<tr><td>Audio PA<td>Amplify audio signals to external speaker at maximum 3 W.<tr><td>Speaker Connector<td>Connect an external speaker.<tr><td>Earphone Connector<td>Connect external earphones.<tr><td>FPC Connector<td>Connect mainboard and subboard.<tr><td>Audio Codec<td>Audio codec ES8311 communicates with ESP32 via the I2S bus, which converts digital signals to analog signals.<tr><td>Analog Microphone<td>Three analog microphone arrays (spacing = 65mm).<tr><td>RGB LED<td>12 addressable RGB LEDs (WS2812).<tr><td>Function Button<td>Six function buttons, i.e. PLAY, SET, VOL -, VOL +, MODE and REC. These function buttons are user-definable.<tr><td><strong>Sizes</strong><td>90x90x20mm</table><h2 class="blue" id="product-advantages-esp32-korvo-wroover-e"><strong>Product advantages</strong> ESP32-korvo wroover-e</h2><ul><li>manufacturing quality<li>the price (less than €22)<li>A successful design<li>the Espressif experience<li>the number of functions<li>the number of connections<li>possibility of adding additional microphones</ul><h2 class="red" id="the---of-the-product-esp32-korvo-wroover-e"><strong>The - of the product</strong> ESP32-korvo wroover-e</h2><ul><li>No box upon purchase<li>Only 3 microphones on the module</ul><div class="embedproduct"><div class="embedproduct-picture"><img class="pictinpost lazyload" width="250" height="250" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII=" data-src="https://ae01.alicdn.com/kf/H986d1437c3244ad5aad6045e7bab4913b/ESP32-Korvo-ESP32-AI-Conseil-de-D-veloppement-Vocal-Tech-Multi-iler-ESP32-WROVER-E-WIFI.jpg_.webp" alt="Array microphone esp32-korvo esp-wroover-e with esphome and home-assistant" /></div><div class="text"><div class="embedproduct-info"><h2 class="no_toc">Micro array esp32-korvo</h2><h3 class="no_toc">By Espressif</h3><p>Array microphone esp32-korvo esp-wroover-e with esphome and home-assistant</p></div><div class="embedproduct-price"><div class="embedaffiliate"> <span class="aliexbutton" role="button"><a href="https://s.click.aliexpress.com/e/_DnPsmnt" target="_blank" rel="nofollow noopener"><img src="/assets/images/aliexpress-payment.png" width="20" height="20" class="lazyload" alt="aliexpress logo payment" /> Buy Now out of Aliexpress</a></span></div></div></div></div><h2 id="conclusion">Conclusion</h2><p>Thanks to this tutorial you will be able to <strong>control a complete microphone</strong> ESP32-korvo wroover-e in Home-assistant with esphome and test the voice commands. Everything works but is not optimal, you will have to wait a few weeks <strong>to test future improvements</strong>.</p></div></div><div class="sourcelink"> <span class="titlesource">Source posts</span><ol><li class="contentlink"> <a rel="canonical" href="https://www.home-assistant.io/voice_control/voice_remote_local_assistant/" target="_blank">www.home-assistant.io</a><i class="icos external-link-alt-solid"></i><li class="contentlink"> <a rel="canonical" href="https://www.home-assistant.io/docs/blueprint/" target="_blank">www.home-assistant.io</a><i class="icos external-link-alt-solid"></i></ol></div><div class="rating mt-4 mb-4 d-flex align-items-center"> <strong class="mr-1">Rating:</strong><div class="rating-holder"><div class="Stars" style="--rating: 4.8; --star-background: #FF6600" title="Rating of this product is 4.8 out of 5."></div></div></div><div class="authorbox mb-5 mt-5 pt-4 pb-4" itemscope itemtype="https://schema.org/Person"><div class="row"><div class="wrapavname col-md-3 text-center"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-110-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-110-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="110" height="110" src="https://haade.fr/assets/images/generated/nico-110-c8508425c.png" alt="Nico"> </picture><p class="mt-4 mb-0 small text-center"> <a target="_blank" class="d-inline-block mx-1 text-dark" itemprop="url" href="/fr/auteur-nico/"><i class="ico link-solid"></i></a> <a target="_blank" class="d-inline-block mx-1 text-dark" itemprop="sameAs" href="https://www.youtube.com/channel/UCcXJ1ZsjEvQxuWJy7gH-A6w"><i class="icob youtube"></i></a> <a target="_blank" class="d-inline-block mx-1 text-dark" itemprop="sameAs" href="https://github.com/haade-administrator"><i class="icob github"></i></a> <a target="_blank" class="d-inline-block mx-1 text-dark" itemprop="sameAs" href="https://discordapp.com/widget?id=637642871738073091&theme=dark&username=Nicoxygen#5644"><i class="icob discord"></i></a> <a class="d-inline-block mx-1 text-dark" itemprop="email" href="mailto:nico@haade.fr"><i class="ico envelope-solid"></i></a></p></div><div class="col-md-9"><h4 itemprop="name">Nico</h4><p class="mt-3 mb-0" itemprop="description">Founding member of the Haade website, I have been passionate about home automation, computers and electronics for over 10 years. Through this blog, I try to help other Internet users to experiment with home automation, to find fun tutorials, in short to evolve.</p></div></div></div><div class="comments mt-5"> <button class="btn btn-outline-dark py-2 px-5 d-block w-100 show-comments"><i class="ico comments-solid text-muted"></i> &nbsp; Load the Comments</button><div id="comments"><h4 class="mb-4">Comments</h4><script src="https://giscus.app/client.js" data-repo=haade-administrator/haade.fr data-repo-id=R_kgDOHxeeuA data-category=Comments data-category-id=DIC_kwDOHxeeuM4CTn1C data-mapping=title data-strict=1 data-reactions-enabled=1 data-emit-metadata=0 data-theme=light data-input-position=top data-loading=lazy data-lang=en crossorigin=anonymous async> </script><div class="clearfix"></div></div></div><div class=" related-posts"><h2 class="text-center mb-4">Articles that might interest you</h2><div class="d-flex justify-content-center align-items-center"> <a class="smoothscroll badge badge-primary text-capitalize" href="/en/category/automation">Automation</a> <a class="smoothscroll badge badge-primary text-capitalize" href="/en/category/tests">Tests</a> <a class="smoothscroll badge badge-primary text-capitalize" href="/en/category/home-assistant">Home-Assistant</a></div><div class="blog-grid-container"><div class="blog-grid-item"><div class="card h-100"><div class="maxthumb"> <a href="/en/blog/test-10-inch-wall-mounted-touchscreen-elc-smt101-and-mqtt-integration"><picture> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-300-c5c61f408.webp 300w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-400-c5c61f408.webp 400w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-500-c5c61f408.webp 500w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-600-c5c61f408.webp 600w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-700-c5c61f408.webp 700w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-800-c5c61f408.webp 800w" type="image/webp"> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-300-c5c61f408.png 300w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-400-c5c61f408.png 400w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-500-c5c61f408.png 500w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-600-c5c61f408.png 600w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-700-c5c61f408.png 700w, https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-800-c5c61f408.png 800w" type="image/png"> <img class="img-thumb lazyload" src="https://haade.fr/assets/images/generated/posts/164/test-and-integration-elc-smt101-wall-tablet-led-band-mqtt-home-assistant-ultimate-dashboard-800-c5c61f408.png" alt="ELC-SMT101 Android Wall Mounted Tablet Review" width="1200" height="675"> </picture> </a></div><div class="card-body"><h2 class="card-title"> <a class="text-dark" href="/en/blog/test-10-inch-wall-mounted-touchscreen-elc-smt101-and-mqtt-integration">ELC-SMT101 Android Wall Mounted Tablet Review</a><div class="mb-2 mt-2 font-weight-normal"><div class="rating-holder"><div class="Stars" style="--rating: 4.2; --star-background: #FF6600" title="Rating of this product is 4.2 out of 5."></div></div></div></h2><p class="card-text">A powerful article: today I’m going to review the 10.1-inch tablet from ELC, the SMT101, also available in 9.7” and 15.6”. This tablet has the advantage of being built-in, having...</p></div><div class="card-footer bg-white"><div class="wrapfooter"> <span class="meta-footer-thumb"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-40-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-40-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="40" height="40" src="https://haade.fr/assets/images/generated/nico-40-c8508425c.png" alt="Nico"> </picture> </span> <span class="author-meta"> <a href="/en/author-nico"><span class="post-name font-weight-bold">Nico</span></a> <span class="post-date">25<sup>th</sup>July 2025</span> </span><div class="clearfix"></div></div></div></div></div><div class="blog-grid-item"><div class="card h-100"><div class="maxthumb"> <a href="/en/blog/test-of-the-sonoff-swv-zigbee-irrigation-programmer"><picture> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-300-ad014b3f0.webp 300w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-400-ad014b3f0.webp 400w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-500-ad014b3f0.webp 500w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-600-ad014b3f0.webp 600w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-700-ad014b3f0.webp 700w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-800-ad014b3f0.webp 800w" type="image/webp"> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-300-ad014b3f0.png 300w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-400-ad014b3f0.png 400w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-500-ad014b3f0.png 500w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-600-ad014b3f0.png 600w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-700-ad014b3f0.png 700w, https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-800-ad014b3f0.png 800w" type="image/png"> <img class="img-thumb lazyload" src="https://haade.fr/assets/images/generated/posts/163/test-smart-water-zigbee-sonoffswv-bsp-800-ad014b3f0.png" alt="Sonoff SWV-BSP Programmer Review" width="1200" height="675"> </picture> </a></div><div class="card-body"><h2 class="card-title"> <a class="text-dark" href="/en/blog/test-of-the-sonoff-swv-zigbee-irrigation-programmer">Sonoff SWV-BSP Programmer Review</a><div class="mb-2 mt-2 font-weight-normal"><div class="rating-holder"><div class="Stars" style="--rating: 4.8; --star-background: #FF6600" title="Rating of this product is 4.8 out of 5."></div></div></div></h2><p class="card-text">It’s been a while since I’ve written an article. I apologize, due to lack of time and the preparation of a hard-hitting article on integrating a wall-mounted tablet.</p></div><div class="card-footer bg-white"><div class="wrapfooter"> <span class="meta-footer-thumb"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-40-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-40-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="40" height="40" src="https://haade.fr/assets/images/generated/nico-40-c8508425c.png" alt="Nico"> </picture> </span> <span class="author-meta"> <a href="/en/author-nico"><span class="post-name font-weight-bold">Nico</span></a> <span class="post-date">25<sup>th</sup>June 2025</span> </span><div class="clearfix"></div></div></div></div></div><div class="blog-grid-item"><div class="card h-100"><div class="maxthumb"> <a href="/en/blog/hikvision-ds-kv8x13-intercom-doorphone-test-and-home-assistant-integration"><picture> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-300-21d512c3c.webp 300w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-400-21d512c3c.webp 400w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-500-21d512c3c.webp 500w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-600-21d512c3c.webp 600w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-700-21d512c3c.webp 700w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-800-21d512c3c.webp 800w" type="image/webp"> <source sizes="(max-width: 480px) calc(100vw - 30px), (max-width: 768px) calc(100vw - 30px), (max-width: 1024px) calc(50vw - 15px), (min-width: 1025px) 25vw, calc(100vw - 30px)" srcset="https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-300-21d512c3c.png 300w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-400-21d512c3c.png 400w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-500-21d512c3c.png 500w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-600-21d512c3c.png 600w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-700-21d512c3c.png 700w, https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-800-21d512c3c.png 800w" type="image/png"> <img class="img-thumb lazyload" src="https://haade.fr/assets/images/generated/posts/161/test-portier-voip-hikvision-ds-kv8x13-integration-home-assistant-frigate-800-21d512c3c.png" alt="Hikvision DS-KV8x13 Doorphone Review" width="1200" height="675"> </picture> </a></div><div class="card-body"><h2 class="card-title"> <a class="text-dark" href="/en/blog/hikvision-ds-kv8x13-intercom-doorphone-test-and-home-assistant-integration">Hikvision DS-KV8x13 Doorphone Review</a><div class="mb-2 mt-2 font-weight-normal"><div class="rating-holder"><div class="Stars" style="--rating: 4.2; --star-background: #FF6600" title="Rating of this product is 4.2 out of 5."></div></div></div></h2><p class="card-text">As part of a installation for access control in a town hall and already automated with Home Assistant, I bought a complete Hikvision kit because the price is attractive and...</p></div><div class="card-footer bg-white"><div class="wrapfooter"> <span class="meta-footer-thumb"><picture> <source srcset="https://haade.fr/assets/images/generated/nico-40-5d88b8595.webp 1.0x" type="image/webp"> <source srcset="https://haade.fr/assets/images/generated/nico-40-c8508425c.png 1.0x" type="image/png"> <img class="author-thumb" itemprop="image" width="40" height="40" src="https://haade.fr/assets/images/generated/nico-40-c8508425c.png" alt="Nico"> </picture> </span> <span class="author-meta"> <a href="/en/author-nico"><span class="post-name font-weight-bold">Nico</span></a> <span class="post-date">13<sup>th</sup>April 2025</span> </span><div class="clearfix"></div></div></div></div></div></div></div></div></div><footer><div class="footcontent"><div class="footleft footbox"><div class="footupper"><div class="foottopic">About</div><p>Haade is a blog intended to help individuals and professionals to set up a home automation system</p></div><div class="footlower"><div class="foottopic">Contact-us</div><div class="phone"> <a href="#"><i class="icos phone-volume-solid"></i>+0033 6 99 40 15 86</a></div><div class="email"> <a href="/en/contact"><i class="icos envelope-solid"></i>Confact form</a></div></div></div><div class="footmiddle footbox"><div class="foottopic">Useful links</div><div><a href="/en/gdpr-general-data-protection-regulation">Privacy Policy</a></div><div><a href="/en/legal-notice">Legal notice</a></div><div><a target="_blank" href="https://buildwithmatter.com/">Protocole Matter</a></div><div><a target="_blank" href="https://zigbeealliance.org/fr/%C3%A9v%C3%A9nements/">Zigbee Alliance</a></div><div><a target="_blank" href="https://z-wavealliance.org/category/z-wave-in-the-news/">Z-wave Alliance</a></div><div><a target="_blank" href="https://www.aqara.com/eu/news.html">Aquara by Xiaomi</a></div><div><a target="_blank" href="https://itead.cc/">Itead Sonoff, Nextion</a></div></div><div class="footright footbox"><div class="foottopic">Subscribe to the newsletter</div><form action="https://haade.us4.list-manage.com/subscribe/post?u=86f32891957737a57c0b4ade8&amp;id=92dadba2b4&amp;f_id=00639cebf0" method="post" name="embedded-mail" target="_blank"> <input type="email" placeholder="Enter email address" name="EMAIL"> <input type="submit" name="Subscription" value="Send" id="submit"> </form> <a href="https://github.com/haade-administrator/haade.fr/discussions" target="_blank" alt="github discussion link" aria-label="Continue the discussion on the github forum"><i class="icob github" aria-hidden="true" title="github discussion"></i></a> <a target="_blank" href="https://www.youtube.com/channel/UCcXJ1ZsjEvQxuWJy7gH-A6w/?sub_confirmation=1" onclick="window.open(this.href, 'width=550,height=435');return false;" aria-label="Subscribe to our youtube channel"><i class="icob youtube" aria-hidden="true" title="youtube"></i></a> <a target="_blank" href="https://discord.gg/FaK6MuZ2" onclick="window.open(this.href, 'width=550,height=435');return false;" aria-label="Invitation to our Discord network"><i class="icob discord" aria-hidden="true" title="discord"></i></a> <a href="/en/feed.xml" target="_blank" alt="feed rss" aria-label="share the rss feed with your friends"><i class="icob rss" aria-hidden="true" title="feed rss haade"></i></a></div></div></div><div class="footbottom"><p>Copyright © 2025 <a target="_blank" href="https://www.haade.fr">Haade</a> 🎉 by Nicoxygen</p></div></footer></div><script src="/assets/js/main.min.js?v=a0225e1608e525477f5b4a4ae3f3425c" type="text/javascript"></script> <script src="/assets/js/lunrsearchengine-en.js?v=6debdc48922f8918a8d9a7cf53f61883"></script>
